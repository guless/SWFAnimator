(function(_,o){'object'==typeof exports&&'undefined'!=typeof module?o():'function'==typeof define&&define.amd?define(o):o()})(this,function(){'use strict';function _(Qe){return(255&Qe>>>24)+(65280&Qe>>>8)+((65280&Qe)<<8)+((255&Qe)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Q.Buf16(320),this.work=new Q.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(Qe){var et;return Qe&&Qe.state?(et=Qe.state,Qe.total_in=Qe.total_out=et.total=0,Qe.msg='',et.wrap&&(Qe.adler=1&et.wrap),et.mode=ue,et.last=0,et.havedict=0,et.dmax=32768,et.head=null,et.hold=0,et.bits=0,et.lencode=et.lendyn=new Q.Buf32(852),et.distcode=et.distdyn=new Q.Buf32(592),et.sane=1,et.back=-1,de):re}function r(Qe){var et;return Qe&&Qe.state?(et=Qe.state,et.wsize=0,et.whave=0,et.wnext=0,f(Qe)):re}function h(Qe,et){var tt,nt;return Qe&&Qe.state?(nt=Qe.state,0>et?(tt=0,et=-et):(tt=(et>>4)+1,48>et&&(et&=15)),et&&(8>et||15<et))?re:(null!==nt.window&&nt.wbits!==et&&(nt.window=null),nt.wrap=tt,nt.wbits=et,r(Qe)):re}function u(Qe,et){var tt,nt;return Qe?(nt=new o,Qe.state=nt,nt.window=null,tt=h(Qe,et),tt!==de&&(Qe.state=null),tt):re}function g(Qe){if(Ge){var et;for(Ye=new Q.Buf32(512),We=new Q.Buf32(32),et=0;144>et;)Qe.lens[et++]=8;for(;256>et;)Qe.lens[et++]=9;for(;280>et;)Qe.lens[et++]=7;for(;288>et;)Qe.lens[et++]=8;for(_e(ae,Qe.lens,0,288,Ye,0,Qe.work,{bits:9}),et=0;32>et;)Qe.lens[et++]=5;_e(oe,Qe.lens,0,32,We,0,Qe.work,{bits:5}),Ge=!1}Qe.lencode=Ye,Qe.lenbits=9,Qe.distcode=We,Qe.distbits=5}function E(Qe,et,tt,nt){var _t,at=Qe.state;return null===at.window&&(at.wsize=1<<at.wbits,at.wnext=0,at.whave=0,at.window=new Q.Buf8(at.wsize)),nt>=at.wsize?(Q.arraySet(at.window,et,tt-at.wsize,at.wsize,0),at.wnext=0,at.whave=at.wsize):(_t=at.wsize-at.wnext,_t>nt&&(_t=nt),Q.arraySet(at.window,et,tt-nt,_t,at.wnext),nt-=_t,nt?(Q.arraySet(at.window,et,tt-nt,nt,0),at.wnext=nt,at.whave=at.wsize):(at.wnext+=_t,at.wnext===at.wsize&&(at.wnext=0),at.whave<at.wsize&&(at.whave+=_t))),0}function S(Qe){console.time('[\u89E3\u7801\u65F6\u95F4]'),je.write(Qe),console.log('[COUNTER]:',Ve),console.timeEnd('[\u89E3\u7801\u65F6\u95F4]')}class w{static read(Qe,et,tt,nt,_t){var at,ot,ft=8*_t-nt-1,st=(1<<ft)-1,dt=st>>1,it=-7,lt=tt?_t-1:0,ht=tt?-1:1,ut=Qe[et+lt];for(lt+=ht,at=ut&(1<<-it)-1,ut>>=-it,it+=ft;0<it;at=256*at+Qe[et+lt],lt+=ht,it-=8);for(ot=at&(1<<-it)-1,at>>=-it,it+=nt;0<it;ot=256*ot+Qe[et+lt],lt+=ht,it-=8);if(0===at)at=1-dt;else{if(at===st)return ot?NaN:(ut?-1:1)*(1/0);ot=ot+Math.pow(2,nt),at=at-dt}return(ut?-1:1)*ot*Math.pow(2,at-nt)}static write(Qe,et,tt,nt,_t,at){var ot,ft,st,dt=8*at-_t-1,it=(1<<dt)-1,lt=it>>1,ht=23===_t?Math.pow(2,-24)-Math.pow(2,-77):0,ut=nt?0:at-1,gt=nt?1:-1,mt=0>et||0===et&&0>1/et?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(ft=isNaN(et)?1:0,ot=it):(ot=Math.floor(Math.log(et)/Math.LN2),1>et*(st=Math.pow(2,-ot))&&(ot--,st*=2),et+=1<=ot+lt?ht/st:ht*Math.pow(2,1-lt),2<=et*st&&(ot++,st/=2),ot+lt>=it?(ft=0,ot=it):1<=ot+lt?(ft=(et*st-1)*Math.pow(2,_t),ot=ot+lt):(ft=et*Math.pow(2,lt-1)*Math.pow(2,_t),ot=0));8<=_t;Qe[tt+ut]=255&ft,ut+=gt,ft/=256,_t-=8);for(ot=ot<<_t|ft,dt+=_t;0<dt;Qe[tt+ut]=255&ot,ut+=gt,ot/=256,dt-=8);Qe[tt+ut-gt]|=128*mt}}class R{static encode(Qe){var et=0;for(var tt=0;tt<Qe.length;++tt){var nt=Qe.charCodeAt(tt);if(55296<=nt&&56319>=nt&&tt+1<Qe.length){var _t=Qe.charCodeAt(tt+1);if(56320<=_t&&57343>=_t){++tt,et+=4;continue}}et+=127>=nt?1:2047>=nt?2:3}var at=new Uint8Array(et),ot=0;for(var tt=0;tt<Qe.length;++tt){var nt=Qe.charCodeAt(tt);if(55296<=nt&&56319>=nt&&tt+1<Qe.length){var _t=Qe.charCodeAt(tt+1);56320<=_t&&57343>=_t&&(++tt,nt=((1023&nt)<<10|1023&_t)+65536)}55296<=nt&&57343>=nt&&(nt=65533),127>=nt?at[ot++]=nt:2047>=nt?(at[ot++]=(nt>>>6)+192,at[ot++]=(63&nt)+128):65535>=nt?(at[ot++]=(nt>>>12)+224,at[ot++]=(63&nt>>>6)+128,at[ot++]=(63&nt)+128):(at[ot++]=(nt>>>18)+240,at[ot++]=(63&nt>>>12)+128,at[ot++]=(63&nt>>>6)+128,at[ot++]=(63&nt)+128)}return at}static decode(Qe){var et='';for(var tt=0;tt<Qe.length;++tt){var nt=Qe[tt];if(128<=nt){var _t=0;if(194>nt||244<nt)nt=65533;else switch(!0){case 240==(240&nt):if(tt+2>=Qe.length)nt=65533,_t=0;else{var at=Qe[tt+1];240==nt&&144>at||244==nt&&143<at?(nt=65533,_t=0):(nt=7&nt,_t=3)}break;case 224==(224&nt):if(tt+2>=Qe.length)nt=65533,_t=0;else{var at=Qe[tt+1];224==nt&&160>at||237==nt&&159<at?(nt=65533,_t=0):(nt=15&nt,_t=2)}break;case 192==(192&nt):tt+1>=Qe.length?(nt=65533,_t=0):(nt=31&nt,_t=1);break;default:nt=65533;}for(var ot=tt,ft=1;ft<=_t;++ft){var st=Qe[ft+ot];if(128<=st&&191>=st)++tt,nt=nt<<6|63&st;else{nt=65533;break}}}65536<=nt?et+=String.fromCharCode((nt>>10)+55232,(1023&nt)+56320):65279!=nt&&(et+=String.fromCharCode(nt))}return et}}class T{static encode(Qe){var et=0,tt=new Uint8Array(2*Qe.length);for(var nt=0;nt<Qe.length;++nt){var _t=Qe.charCodeAt(nt);tt[et++]=_t,tt[et++]=_t>>8}return tt}static decode(Qe){if(1==(1&Qe.length))throw new RangeError('Invalid buffer length.');var et='';for(var tt=0;tt<Qe.length;tt+=2){var nt=Qe[tt]|Qe[tt+1]<<8;et+=String.fromCharCode(nt)}return et}}class C{constructor(...Qe){if(0==Qe.length||void 0==Qe[0])this._buffer=new Uint8Array(0);else if('number'==typeof Qe[0])this._buffer=new Uint8Array(Qe[0]);else if(C.__HAS_STATIC_ISARRAY__?Array.isArray(Qe[0]):Qe[0]instanceof Array)this._buffer=new Uint8Array(Qe[0]);else if(Qe[0]instanceof ArrayBuffer)this._buffer=new Uint8Array(Qe[0],Qe[1],Qe[2]);else if(Qe[0]instanceof Uint8Array||Qe[0]instanceof Uint8ClampedArray||Qe[0]instanceof Uint16Array||Qe[0]instanceof Uint32Array||Qe[0]instanceof Int8Array||Qe[0]instanceof Int16Array||Qe[0]instanceof Int32Array||Qe[0]instanceof Float32Array||Qe[0]instanceof Float64Array||Qe[0]instanceof DataView)this._buffer=new Uint8Array(Qe[0].buffer,Qe[0].byteOffset,Qe[0].byteLength);else throw new TypeError('Require buffer or typed array');this._offset=0,this._length=this._buffer.length}get offset(){return this._offset}set offset(Qe){if(0>Qe&&(Qe+=this._length),0>Qe)throw new RangeError('Offset is outside the bounds of the buffer');this._offset=Qe}get remain(){return Math.max(0,this._length-this._offset)}get length(){return this._length}set length(Qe){if(0>Qe)throw new RangeError('Invalid buffer length');this.alloc(this._length,this._length=Qe)}get content(){return this._buffer.subarray(0,this._length)}seton(Qe){Qe>this.remain&&this.alloc(this._offset,this._length=Qe+this._offset)}geton(Qe){if(Qe>this.remain)throw new RangeError('Offset is outside the bounds of the buffer')}alloc(Qe,et,tt=!1){if(!(this._buffer.length>=et)){var nt=tt?et:C.__CHUNK_SIZE__*Math.ceil(et/C.__CHUNK_SIZE__),_t=this._buffer.subarray(0,Math.min(Qe,this._length));this._buffer=new Uint8Array(nt),this._buffer.set(_t,0)}}write(...Qe){if(1==Qe.length){var et=Qe[0];if(et instanceof ArrayBuffer)et=new Uint8Array(et);else if(et instanceof Uint8Array||et instanceof Uint8ClampedArray||et instanceof Uint16Array||et instanceof Uint32Array||et instanceof Int8Array||et instanceof Int16Array||et instanceof Int32Array||et instanceof Float32Array||et instanceof Float64Array||et instanceof DataView)et=new Uint8Array(et.buffer,et.byteOffset,et.byteLength);else throw new TypeError('Require buffer or typed array');if(0==et.length)return;this.alloc(this._length,this._length+=et.length),this._buffer.set(et,this._length-et.length)}else{var tt=0,nt=[];for(var _t=0;_t<Qe.length;++_t){var et=Qe[_t];if(et instanceof ArrayBuffer)et=new Uint8Array(et);else if(et instanceof Uint8Array||et instanceof Uint8ClampedArray||et instanceof Uint16Array||et instanceof Uint32Array||et instanceof Int8Array||et instanceof Int16Array||et instanceof Int32Array||et instanceof Float32Array||et instanceof Float64Array||et instanceof DataView)et=new Uint8Array(et.buffer,et.byteOffset,et.byteLength);else throw new TypeError('Require buffer or typed array');0<et.length&&(tt+=et.length,nt.push(et))}if(0>=tt)return;this.alloc(this._length,this._length+=tt);for(var _t=0,at=this._length-tt;_t<nt.length;++_t){var et=nt[_t];this._buffer.set(et,(at+=et.length)-et.length)}}}flush(...Qe){var et=0;et=0==Qe.length?this._offset:+Qe[0],0>=et||(et<this._length&&(C.__HAS_COPY_WITHIN__?this._buffer.copyWithin(0,et,this._length):this._buffer.set(this._buffer.subarray(et,this._length),0)),this._offset=Math.max(0,this._offset-et),this._length=Math.max(0,this._length-et))}hexof(Qe=0,et=16){if(0>Qe&&(Qe+=this._length),0>Qe)throw new RangeError('Offset is outside the bounds of the buffer');if(0>et)throw new RangeError('Invalid buffer length');var tt=[],nt=Math.max(0,Math.min(et,this._length-Qe));for(var _t=0;_t<nt;++_t)tt.push(('0'+this._buffer[_t+Qe].toString(16)).slice(-2));return 0>=tt.length?tt.push('empty'):this._length>nt+Qe&&tt.push('...'),`[Buffer offset=${this._offset}, length=${this._length}, content=<${tt.toString()}>]`}getBool(){return this.geton(1),!!this._buffer[this._offset++]}setBool(Qe){this.seton(1),this._buffer[this._offset++]=!!Qe}getUI8(){return this.geton(1),this._buffer[this._offset++]}setUI8(Qe){this.seton(1),this._buffer[this._offset++]=Qe}getSI8(){return this.geton(1),this._buffer[this._offset++]<<24>>24}setSI8(Qe){this.seton(1),this._buffer[this._offset++]=Qe}getUI16(){this.geton(2);var Qe=this._buffer[this._offset++],et=this._buffer[this._offset++];return et<<8|Qe}setUI16(Qe){this.seton(2),this._buffer[this._offset++]=Qe,this._buffer[this._offset++]=Qe>>8}getSI16(){this.geton(2);var Qe=this._buffer[this._offset++],et=this._buffer[this._offset++];return(et<<8|Qe)<<16>>16}setSI16(Qe){this.seton(2),this._buffer[this._offset++]=Qe,this._buffer[this._offset++]=Qe>>8}getUI32(){this.geton(4);var Qe=this._buffer[this._offset++],et=this._buffer[this._offset++],tt=this._buffer[this._offset++],nt=this._buffer[this._offset++];return(nt<<24|tt<<16|et<<8|Qe)>>>0}setUI32(Qe){this.seton(4),this._buffer[this._offset++]=Qe,this._buffer[this._offset++]=Qe>>8,this._buffer[this._offset++]=Qe>>16,this._buffer[this._offset++]=Qe>>24}getSI32(){this.geton(4);var Qe=this._buffer[this._offset++],et=this._buffer[this._offset++],tt=this._buffer[this._offset++],nt=this._buffer[this._offset++];return nt<<24|tt<<16|et<<8|Qe}setSI32(Qe){this.seton(4),this._buffer[this._offset++]=Qe,this._buffer[this._offset++]=Qe>>8,this._buffer[this._offset++]=Qe>>16,this._buffer[this._offset++]=Qe>>24}getFL32(){return this.geton(4),w.read(this._buffer,(this._offset+=4)-4,!0,23,4)}setFL32(Qe){this.seton(4),w.write(this._buffer,Qe,(this._offset+=4)-4,!0,23,4)}getFL64(){return this.geton(8),w.read(this._buffer,(this._offset+=8)-8,!0,52,8)}setFL64(Qe){this.seton(8),w.write(this._buffer,Qe,(this._offset+=8)-8,!0,52,8)}getBytes(Qe){if(0>Qe)throw new RangeError('Invalid buffer length.');return this.geton(Qe),this._buffer.subarray(this._offset,this._offset+=Qe)}setBytes(Qe){this.seton(Qe.length),this._buffer.set(Qe,(this._offset+=Qe.length)-Qe.length)}getUTF8(Qe){return C.__USE_TEXT_ENCODER__&&C.__HAS_TEXT_ENCODER__?(C.__UTF8_TEXT_DECODER__||(C.__UTF8_TEXT_DECODER__=new TextDecoder('utf-8')),C.__UTF8_TEXT_DECODER__.decode(this.getBytes(Qe))):R.decode(this.getBytes(Qe))}setUTF8(Qe){C.__USE_TEXT_ENCODER__&&C.__HAS_TEXT_ENCODER__?(!C.__UTF8_TEXT_ENCODER__&&(C.__UTF8_TEXT_ENCODER__=new TextEncoder('utf-8')),this.setBytes(C.__UTF8_TEXT_ENCODER__.encode(Qe))):this.setBytes(R.encode(Qe))}getUCS2(Qe){return C.__HAS_TEXT_ENCODER__&&C.__HAS_UTF16_DECODER__?(C.__UCS2_TEXT_DECODER__||(C.__UCS2_TEXT_DECODER__=new TextDecoder('utf-16le')),C.__UCS2_TEXT_DECODER__.decode(this.getBytes(Qe))):T.decode(this.getBytes(Qe))}setUCS2(Qe){C.__HAS_TEXT_ENCODER__&&C.__HAS_UTF16_ENCODER__?(!C.__UCS2_TEXT_ENCODER__&&(C.__UCS2_TEXT_ENCODER__=new TextEncoder('utf-16le')),this.setBytes(C.__UCS2_TEXT_ENCODER__.encode(Qe))):this.setBytes(T.encode(Qe))}getStruct(Qe){return Qe.decode(this),Qe}setStruct(Qe){Qe.encode(this)}toString(){return this.hexof(0)}}C.__CHUNK_SIZE__=2048,C.__USE_TEXT_ENCODER__=!0,C.__HAS_TEXT_ENCODER__='function'==typeof TextEncoder&&'function'==typeof TextDecoder,C.__HAS_COPY_WITHIN__='function'==typeof Uint8Array.prototype.copyWithin,C.__HAS_STATIC_ISARRAY__='function'==typeof Array.isArray,C.__HAS_UTF16_DECODER__=C.__HAS_TEXT_ENCODER__&&'utf-16le'==new TextDecoder('utf-16le').encoding,C.__HAS_UTF16_ENCODER__=C.__HAS_TEXT_ENCODER__&&'utf-16le'==new TextEncoder('utf-16le').encoding,C.__UTF8_TEXT_ENCODER__=null,C.__UTF8_TEXT_DECODER__=null,C.__UCS2_TEXT_ENCODER__=null,C.__UCS2_TEXT_DECODER__=null;class O{constructor(){this._signature=null,this._version=0,this._length=0}get version(){return this._version}get length(){return this._length}get signature(){return String.fromCharCode(this._signature[0],this._signature[1],this._signature[2])}get compression(){return this._signature[0]}get isCompressed(){return this._signature[0]===O.ZLIB_COMPRESSED||this._signature[0]===O.LZMA_COMPRESSED}get isSignatureVaild(){return(this._signature[0]===O.UNCOMPRESS||this._signature[0]===O.ZLIB_COMPRESSED||this._signature[0]===O.LZMA_COMPRESSED)&&this._signature[1]===O.SIGN2&&this._signature[2]===O.SIGN3}decode(Qe){this._signature=new Uint8Array(Qe.getBytes(3)),this._version=Qe.getUI8(),this._length=Qe.getUI32()}encode(Qe){Qe.setBytes(this._signature),Qe.setUI8(this._version),Qe.setUI32(this._length)}toString(){return`[SWFHeader signature="${this.signature}", compression=${this.isCompressed}, version=${this.version}, length=${this.length}]`}}O.UNCOMPRESS=70,O.ZLIB_COMPRESSED=67,O.LZMA_COMPRESSED=90,O.SIGN2=87,O.SIGN3=83;class v{constructor(Qe=0,et=0,tt=0,nt=0){this.x=Qe,this.y=et,this.width=tt,this.height=nt}toString(){return`Rect(${this.x},${this.y},${this.width},${this.height})`}}class D{constructor(){this._viewport=null,this._frameRate=0,this._totalFrames=0}get viewport(){return this._viewport}get frameRate(){return this._frameRate}get totalFrames(){return this._totalFrames}decode(Qe){this._viewport=Qe.getRect(this._viewport||new v),this._frameRate=Qe.getFP16(),this._totalFrames=Qe.getUI16()}encode(Qe){Qe.setRect(this._viewport),Qe.setFP16(this._frameRate),Qe.setUI16(this._totalFrames)}toString(){return`[SWFInfo viewport=${this.viewport}, frameRate=${this.frameRate}, totalFrames=${this.totalFrames}]`}}class I{constructor(Qe=0,et=0){this.type=Qe,this.length=et}toString(){return`TagCode(${this.type},${this.length})`}}class N extends C{constructor(...Qe){super(...Qe)}getHeader(Qe){return this.getStruct(Qe||new O)}setHeader(Qe){this.setStruct(Qe)}getSWFInfo(Qe){return this.getStruct(Qe||new D)}setSWFInfo(Qe){this.setStruct(Qe)}trySWFInfo(Qe){if(1>this.remain)return null;var et=this._buffer[this._offset]>>3;return this.remain>=2+((et<<2)-3>>3)+4?this.getSWFInfo(Qe):null}getTagCode(Qe){this.geton(2);var et=this._buffer[this._offset++],tt=this._buffer[this._offset++],nt=63&et;return 63==nt&&(nt=this.getUI32()),Qe||(Qe=new I),Qe.type=tt<<2|et>>6,Qe.length=nt,Qe}setTagCode(){throw new SyntaxError('Method does not implements')}tryTagCode(Qe){return 2>this.remain?null:6>this.remain&&63==(63&this._buffer[this._offset])?null:this.getTagCode(Qe)}getFP16(){return this.getSI16()/256}setFP16(){throw new SyntaxError('Method does not implements')}getFP32(){return this.getSI32()/65536}setFP32(){throw new SyntaxError('Method does not implements')}bitget(Qe,et){if(0>=et)throw new RangeError(`The "nbits" must be a strictly positive integer`);var tt=0,nt=this._offset+(Qe>>3),_t=7&Qe;if(0!=_t){var at=8-_t;if(tt=this._buffer[nt++]&(1<<at)-1,et-=at,0>=et)return tt>>-et}for(;8<=et;et-=8)tt=tt<<8|this._buffer[nt++];return 0<et&&(tt=this._buffer[nt]>>8-et|tt<<et),tt}bitset(){throw new SyntaxError('Method does not implements')}getRect(Qe){this.geton(1);var et=this._buffer[this._offset]>>3,tt=2+((et<<2)-3>>3);this.geton(tt);var nt=this.bitget(5,et),_t=this.bitget(5+et,et),at=this.bitget(5+2*et,et),ot=this.bitget(5+3*et,et),ft=32-et;return Qe.x=nt<<ft>>ft,Qe.y=at<<ft>>ft,Qe.width=(_t<<ft>>ft)-Qe.x,Qe.height=(ot<<ft>>ft)-Qe.y,this._offset+=tt,Qe}setRect(){throw new SyntaxError('Method does not implements')}}var Ye,We,A=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg='',this.state=null,this.data_type=2,this.adler=0},U={'0':'','1':'stream end','2':'need dictionary','-1':'file error','-2':'stream error','-3':'data error','-4':'insufficient memory','-5':'buffer error','-6':'incompatible version'},Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},F=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name='',this.comment='',this.hcrc=0,this.done=!1},L=function(et,tt){return tt={exports:{}},et(tt,tt.exports),tt.exports}(function(Qe,et){'use strict';var tt='undefined'!=typeof Uint8Array&&'undefined'!=typeof Uint16Array&&'undefined'!=typeof Int32Array;et.assign=function(at){for(var ot=Array.prototype.slice.call(arguments,1);ot.length;){var ft=ot.shift();if(ft){if('object'!=typeof ft)throw new TypeError(ft+'must be non-object');for(var st in ft)ft.hasOwnProperty(st)&&(at[st]=ft[st])}}return at},et.shrinkBuf=function(at,ot){return at.length===ot?at:at.subarray?at.subarray(0,ot):(at.length=ot,at)};var nt={arraySet:function(at,ot,ft,st,dt){if(ot.subarray&&at.subarray)return void at.set(ot.subarray(ft,ft+st),dt);for(var it=0;it<st;it++)at[dt+it]=ot[ft+it]},flattenChunks:function(at){var ot,ft,st,dt,it,lt;for(st=0,ot=0,ft=at.length;ot<ft;ot++)st+=at[ot].length;for(lt=new Uint8Array(st),dt=0,(ot=0,ft=at.length);ot<ft;ot++)it=at[ot],lt.set(it,dt),dt+=it.length;return lt}},_t={arraySet:function(at,ot,ft,st,dt){for(var it=0;it<st;it++)at[dt+it]=ot[ft+it]},flattenChunks:function(at){return[].concat.apply([],at)}};et.setTyped=function(at){at?(et.Buf8=Uint8Array,et.Buf16=Uint16Array,et.Buf32=Int32Array,et.assign(et,nt)):(et.Buf8=Array,et.Buf16=Array,et.Buf32=Array,et.assign(et,_t))},et.setTyped(tt)}),B=function(){var et,tt=[];for(var nt=0;256>nt;nt++){et=nt;for(var _t=0;8>_t;_t++)et=1&et?3988292384^et>>>1:et>>>1;tt[nt]=et}return tt}(),M=30,H=L,P=15,z=852,X=592,G=0,Y=1,W=2,K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],V=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],$=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Q=L,ee=function(et,tt,nt,_t){for(var at=0|65535&et,ot=0|65535&et>>>16,ft=0;0!==nt;){ft=2e3<nt?2e3:nt,nt-=ft;do at=0|at+tt[_t++],ot=0|ot+at;while(--ft);at%=65521,ot%=65521}return 0|(at|ot<<16)},te=function(et,tt,nt,_t){et^=-1;for(var at=_t;at<_t+nt;at++)et=et>>>8^B[255&(et^tt[at])];return-1^et},ne=function(et,tt){var nt,_t,at,ot,ft,st,dt,it,lt,ht,ut,gt,mt,Et,ct,bt,St,wt,Rt,Tt,pt,Ct,Ot,yt,vt;nt=et.state,_t=et.next_in,yt=et.input,at=_t+(et.avail_in-5),ot=et.next_out,vt=et.output,ft=ot-(tt-et.avail_out),st=ot+(et.avail_out-257),dt=nt.dmax,it=nt.wsize,lt=nt.whave,ht=nt.wnext,ut=nt.window,gt=nt.hold,mt=nt.bits,Et=nt.lencode,ct=nt.distcode,bt=(1<<nt.lenbits)-1,St=(1<<nt.distbits)-1;top:do{15>mt&&(gt+=yt[_t++]<<mt,mt+=8,gt+=yt[_t++]<<mt,mt+=8),wt=Et[gt&bt];dolen:for(;;){if(Rt=wt>>>24,gt>>>=Rt,mt-=Rt,Rt=255&wt>>>16,0===Rt)vt[ot++]=65535&wt;else if(16&Rt){Tt=65535&wt,Rt&=15,Rt&&(mt<Rt&&(gt+=yt[_t++]<<mt,mt+=8),Tt+=gt&(1<<Rt)-1,gt>>>=Rt,mt-=Rt),15>mt&&(gt+=yt[_t++]<<mt,mt+=8,gt+=yt[_t++]<<mt,mt+=8),wt=ct[gt&St];dodist:for(;;){if(Rt=wt>>>24,gt>>>=Rt,mt-=Rt,Rt=255&wt>>>16,16&Rt){if(pt=65535&wt,Rt&=15,mt<Rt&&(gt+=yt[_t++]<<mt,mt+=8,mt<Rt&&(gt+=yt[_t++]<<mt,mt+=8)),pt+=gt&(1<<Rt)-1,pt>dt){et.msg='invalid distance too far back',nt.mode=M;break top}if(gt>>>=Rt,mt-=Rt,Rt=ot-ft,pt>Rt){if(Rt=pt-Rt,Rt>lt&&nt.sane){et.msg='invalid distance too far back',nt.mode=M;break top}if(Ct=0,Ot=ut,0===ht){if(Ct+=it-Rt,Rt<Tt){Tt-=Rt;do vt[ot++]=ut[Ct++];while(--Rt);Ct=ot-pt,Ot=vt}}else if(ht<Rt){if(Ct+=it+ht-Rt,Rt-=ht,Rt<Tt){Tt-=Rt;do vt[ot++]=ut[Ct++];while(--Rt);if(Ct=0,ht<Tt){Rt=ht,Tt-=Rt;do vt[ot++]=ut[Ct++];while(--Rt);Ct=ot-pt,Ot=vt}}}else if(Ct+=ht-Rt,Rt<Tt){Tt-=Rt;do vt[ot++]=ut[Ct++];while(--Rt);Ct=ot-pt,Ot=vt}for(;2<Tt;)vt[ot++]=Ot[Ct++],vt[ot++]=Ot[Ct++],vt[ot++]=Ot[Ct++],Tt-=3;Tt&&(vt[ot++]=Ot[Ct++],1<Tt&&(vt[ot++]=Ot[Ct++]))}else{Ct=ot-pt;do vt[ot++]=vt[Ct++],vt[ot++]=vt[Ct++],vt[ot++]=vt[Ct++],Tt-=3;while(2<Tt);Tt&&(vt[ot++]=vt[Ct++],1<Tt&&(vt[ot++]=vt[Ct++]))}}else if(0==(64&Rt)){wt=ct[(65535&wt)+(gt&(1<<Rt)-1)];continue dodist}else{et.msg='invalid distance code',nt.mode=M;break top}break}}else if(0==(64&Rt)){wt=Et[(65535&wt)+(gt&(1<<Rt)-1)];continue dolen}else if(32&Rt){nt.mode=12;break top}else{et.msg='invalid literal/length code',nt.mode=M;break top}break}}while(_t<at&&ot<st);Tt=mt>>3,_t-=Tt,mt-=Tt<<3,gt&=(1<<mt)-1,et.next_in=_t,et.next_out=ot,et.avail_in=_t<at?5+(at-_t):5-(_t-at),et.avail_out=ot<st?257+(st-ot):257-(ot-st),nt.hold=gt,nt.bits=mt},_e=function(et,tt,nt,_t,at,ot,ft,st){var wt,Rt,Tt,pt,Ct,vt,At,kt,Ut,dt=st.bits,it=0,lt=0,ht=0,ut=0,gt=0,mt=0,Et=0,ct=0,bt=0,St=0,Ot=null,yt=0,xt=new H.Buf16(P+1),Dt=new H.Buf16(P+1),It=null,Nt=0;for(it=0;it<=P;it++)xt[it]=0;for(lt=0;lt<_t;lt++)xt[tt[nt+lt]]++;for(gt=dt,ut=P;1<=ut&&0===xt[ut];ut--);if(gt>ut&&(gt=ut),0===ut)return at[ot++]=20971520,at[ot++]=20971520,st.bits=1,0;for(ht=1;ht<ut&&0===xt[ht];ht++);for(gt<ht&&(gt=ht),ct=1,it=1;it<=P;it++)if(ct<<=1,ct-=xt[it],0>ct)return-1;if(0<ct&&(et===G||1!==ut))return-1;for(Dt[1]=0,it=1;it<P;it++)Dt[it+1]=Dt[it]+xt[it];for(lt=0;lt<_t;lt++)0!==tt[nt+lt]&&(ft[Dt[tt[nt+lt]]++]=lt);if(et===G?(Ot=It=ft,vt=19):et===Y?(Ot=K,yt-=257,It=V,Nt-=257,vt=256):(Ot=J,It=$,vt=-1),St=0,lt=0,it=ht,Ct=ot,mt=gt,Et=0,Tt=-1,bt=1<<gt,pt=bt-1,et===Y&&bt>z||et===W&&bt>X)return 1;for(;;){At=it-Et,ft[lt]<vt?(kt=0,Ut=ft[lt]):ft[lt]>vt?(kt=It[Nt+ft[lt]],Ut=Ot[yt+ft[lt]]):(kt=96,Ut=0),wt=1<<it-Et,Rt=1<<mt,ht=Rt;do Rt-=wt,at[Ct+(St>>Et)+Rt]=0|(At<<24|kt<<16|Ut);while(0!==Rt);for(wt=1<<it-1;St&wt;)wt>>=1;if(0===wt?St=0:(St&=wt-1,St+=wt),lt++,0==--xt[it]){if(it===ut)break;it=tt[nt+ft[lt]]}if(it>gt&&(St&pt)!==Tt){for(0==Et&&(Et=gt),Ct+=ht,mt=it-Et,ct=1<<mt;mt+Et<ut&&(ct-=xt[mt+Et],!(0>=ct));)mt++,ct<<=1;if(bt+=1<<mt,et===Y&&bt>z||et===W&&bt>X)return 1;Tt=St&pt,at[Tt]=0|(gt<<24|mt<<16|Ct-ot)}}return 0!=St&&(at[Ct+St]=0|(4194304|it-Et<<24)),st.bits=gt,0},ae=1,oe=2,fe=4,se=6,de=0,re=-2,ie=-3,le=-4,he=8,ue=1,ge=2,me=3,Ee=4,ce=5,be=6,Se=7,we=8,Re=9,Te=10,pe=11,Ce=12,Oe=13,ye=14,ve=15,xe=16,De=17,Ie=18,Ne=19,Ae=20,ke=21,Ue=22,Ze=23,Fe=24,Le=25,Be=26,Me=27,He=28,Pe=29,ze=30,Xe=31,Ge=!0,Ke={inflateReset:r,inflateReset2:h,inflateResetKeep:f,inflateInit:function(et){return u(et,15)},inflateInit2:u,inflate:function(et,tt){var nt,_t,at,ot,ft,st,dt,it,lt,ht,ut,gt,mt,Et,bt,St,wt,Rt,Tt,pt,Ct,Ot,vt,xt,ct=0,yt=new Q.Buf8(4),Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!et||!et.state||!et.output||!et.input&&0!==et.avail_in)return re;nt=et.state,nt.mode===Ce&&(nt.mode=Oe),ft=et.next_out,at=et.output,dt=et.avail_out,ot=et.next_in,_t=et.input,st=et.avail_in,it=nt.hold,lt=nt.bits,ht=st,ut=dt,Ot=de;inf_leave:for(;;)switch(nt.mode){case ue:if(0===nt.wrap){nt.mode=Oe;break}for(;16>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(2&nt.wrap&&35615===it){nt.check=0,yt[0]=255&it,yt[1]=255&it>>>8,nt.check=te(nt.check,yt,2,0),it=0,lt=0,nt.mode=ge;break}if(nt.flags=0,nt.head&&(nt.head.done=!1),!(1&nt.wrap)||(((255&it)<<8)+(it>>8))%31){et.msg='incorrect header check',nt.mode=ze;break}if((15&it)!==he){et.msg='unknown compression method',nt.mode=ze;break}if(it>>>=4,lt-=4,Ct=(15&it)+8,0===nt.wbits)nt.wbits=Ct;else if(Ct>nt.wbits){et.msg='invalid window size',nt.mode=ze;break}nt.dmax=1<<Ct,et.adler=nt.check=1,nt.mode=512&it?Te:Ce,it=0,lt=0;break;case ge:for(;16>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(nt.flags=it,(255&nt.flags)!==he){et.msg='unknown compression method',nt.mode=ze;break}if(57344&nt.flags){et.msg='unknown header flags set',nt.mode=ze;break}nt.head&&(nt.head.text=1&it>>8),512&nt.flags&&(yt[0]=255&it,yt[1]=255&it>>>8,nt.check=te(nt.check,yt,2,0)),it=0,lt=0,nt.mode=me;case me:for(;32>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}nt.head&&(nt.head.time=it),512&nt.flags&&(yt[0]=255&it,yt[1]=255&it>>>8,yt[2]=255&it>>>16,yt[3]=255&it>>>24,nt.check=te(nt.check,yt,4,0)),it=0,lt=0,nt.mode=Ee;case Ee:for(;16>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}nt.head&&(nt.head.xflags=255&it,nt.head.os=it>>8),512&nt.flags&&(yt[0]=255&it,yt[1]=255&it>>>8,nt.check=te(nt.check,yt,2,0)),it=0,lt=0,nt.mode=ce;case ce:if(1024&nt.flags){for(;16>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}nt.length=it,nt.head&&(nt.head.extra_len=it),512&nt.flags&&(yt[0]=255&it,yt[1]=255&it>>>8,nt.check=te(nt.check,yt,2,0)),it=0,lt=0}else nt.head&&(nt.head.extra=null);nt.mode=be;case be:if(1024&nt.flags&&(gt=nt.length,gt>st&&(gt=st),gt&&(nt.head&&(Ct=nt.head.extra_len-nt.length,!nt.head.extra&&(nt.head.extra=Array(nt.head.extra_len)),Q.arraySet(nt.head.extra,_t,ot,gt,Ct)),512&nt.flags&&(nt.check=te(nt.check,_t,gt,ot)),st-=gt,ot+=gt,nt.length-=gt),nt.length))break inf_leave;nt.length=0,nt.mode=Se;case Se:if(2048&nt.flags){if(0===st)break inf_leave;gt=0;do Ct=_t[ot+gt++],nt.head&&Ct&&65536>nt.length&&(nt.head.name+=String.fromCharCode(Ct));while(Ct&&gt<st);if(512&nt.flags&&(nt.check=te(nt.check,_t,gt,ot)),st-=gt,ot+=gt,Ct)break inf_leave}else nt.head&&(nt.head.name=null);nt.length=0,nt.mode=we;case we:if(4096&nt.flags){if(0===st)break inf_leave;gt=0;do Ct=_t[ot+gt++],nt.head&&Ct&&65536>nt.length&&(nt.head.comment+=String.fromCharCode(Ct));while(Ct&&gt<st);if(512&nt.flags&&(nt.check=te(nt.check,_t,gt,ot)),st-=gt,ot+=gt,Ct)break inf_leave}else nt.head&&(nt.head.comment=null);nt.mode=Re;case Re:if(512&nt.flags){for(;16>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(it!==(65535&nt.check)){et.msg='header crc mismatch',nt.mode=ze;break}it=0,lt=0}nt.head&&(nt.head.hcrc=1&nt.flags>>9,nt.head.done=!0),et.adler=nt.check=0,nt.mode=Ce;break;case Te:for(;32>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}et.adler=nt.check=_(it),it=0,lt=0,nt.mode=pe;case pe:if(0===nt.havedict)return et.next_out=ft,et.avail_out=dt,et.next_in=ot,et.avail_in=st,nt.hold=it,nt.bits=lt,2;et.adler=nt.check=1,nt.mode=Ce;case Ce:if(5===tt||tt===se)break inf_leave;case Oe:if(nt.last){it>>>=7&lt,lt-=7&lt,nt.mode=Me;break}for(;3>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}switch(nt.last=1&it,it>>>=1,lt-=1,3&it){case 0:nt.mode=ye;break;case 1:if(g(nt),nt.mode=Ae,tt===se){it>>>=2,lt-=2;break inf_leave}break;case 2:nt.mode=De;break;case 3:et.msg='invalid block type',nt.mode=ze;}it>>>=2,lt-=2;break;case ye:for(it>>>=7&lt,lt-=7&lt;32>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if((65535&it)!=(65535^it>>>16)){et.msg='invalid stored block lengths',nt.mode=ze;break}if(nt.length=65535&it,it=0,lt=0,nt.mode=ve,tt===se)break inf_leave;case ve:nt.mode=xe;case xe:if(gt=nt.length,gt){if(gt>st&&(gt=st),gt>dt&&(gt=dt),0===gt)break inf_leave;Q.arraySet(at,_t,ot,gt,ft),st-=gt,ot+=gt,dt-=gt,ft+=gt,nt.length-=gt;break}nt.mode=Ce;break;case De:for(;14>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(nt.nlen=(31&it)+257,it>>>=5,lt-=5,nt.ndist=(31&it)+1,it>>>=5,lt-=5,nt.ncode=(15&it)+4,it>>>=4,lt-=4,286<nt.nlen||30<nt.ndist){et.msg='too many length or distance symbols',nt.mode=ze;break}nt.have=0,nt.mode=Ie;case Ie:for(;nt.have<nt.ncode;){for(;3>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}nt.lens[Dt[nt.have++]]=7&it,it>>>=3,lt-=3}for(;19>nt.have;)nt.lens[Dt[nt.have++]]=0;if(nt.lencode=nt.lendyn,nt.lenbits=7,vt={bits:nt.lenbits},Ot=_e(0,nt.lens,0,19,nt.lencode,0,nt.work,vt),nt.lenbits=vt.bits,Ot){et.msg='invalid code lengths set',nt.mode=ze;break}nt.have=0,nt.mode=Ne;case Ne:for(;nt.have<nt.nlen+nt.ndist;){for(;;){if(ct=nt.lencode[it&(1<<nt.lenbits)-1],bt=ct>>>24,St=255&ct>>>16,wt=65535&ct,bt<=lt)break;if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(16>wt)it>>>=bt,lt-=bt,nt.lens[nt.have++]=wt;else{if(16===wt){for(xt=bt+2;lt<xt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(it>>>=bt,lt-=bt,0===nt.have){et.msg='invalid bit length repeat',nt.mode=ze;break}Ct=nt.lens[nt.have-1],gt=3+(3&it),it>>>=2,lt-=2}else if(17===wt){for(xt=bt+3;lt<xt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}it>>>=bt,lt-=bt,Ct=0,gt=3+(7&it),it>>>=3,lt-=3}else{for(xt=bt+7;lt<xt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}it>>>=bt,lt-=bt,Ct=0,gt=11+(127&it),it>>>=7,lt-=7}if(nt.have+gt>nt.nlen+nt.ndist){et.msg='invalid bit length repeat',nt.mode=ze;break}for(;gt--;)nt.lens[nt.have++]=Ct}}if(nt.mode===ze)break;if(0===nt.lens[256]){et.msg='invalid code -- missing end-of-block',nt.mode=ze;break}if(nt.lenbits=9,vt={bits:nt.lenbits},Ot=_e(ae,nt.lens,0,nt.nlen,nt.lencode,0,nt.work,vt),nt.lenbits=vt.bits,Ot){et.msg='invalid literal/lengths set',nt.mode=ze;break}if(nt.distbits=6,nt.distcode=nt.distdyn,vt={bits:nt.distbits},Ot=_e(oe,nt.lens,nt.nlen,nt.ndist,nt.distcode,0,nt.work,vt),nt.distbits=vt.bits,Ot){et.msg='invalid distances set',nt.mode=ze;break}if(nt.mode=Ae,tt===se)break inf_leave;case Ae:nt.mode=ke;case ke:if(6<=st&&258<=dt){et.next_out=ft,et.avail_out=dt,et.next_in=ot,et.avail_in=st,nt.hold=it,nt.bits=lt,ne(et,ut),ft=et.next_out,at=et.output,dt=et.avail_out,ot=et.next_in,_t=et.input,st=et.avail_in,it=nt.hold,lt=nt.bits,nt.mode===Ce&&(nt.back=-1);break}for(nt.back=0;;){if(ct=nt.lencode[it&(1<<nt.lenbits)-1],bt=ct>>>24,St=255&ct>>>16,wt=65535&ct,bt<=lt)break;if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(St&&0==(240&St)){for(Rt=bt,Tt=St,pt=wt;;){if(ct=nt.lencode[pt+((it&(1<<Rt+Tt)-1)>>Rt)],bt=ct>>>24,St=255&ct>>>16,wt=65535&ct,Rt+bt<=lt)break;if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}it>>>=Rt,lt-=Rt,nt.back+=Rt}if(it>>>=bt,lt-=bt,nt.back+=bt,nt.length=wt,0===St){nt.mode=Be;break}if(32&St){nt.back=-1,nt.mode=Ce;break}if(64&St){et.msg='invalid literal/length code',nt.mode=ze;break}nt.extra=15&St,nt.mode=Ue;case Ue:if(nt.extra){for(xt=nt.extra;lt<xt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}nt.length+=it&(1<<nt.extra)-1,it>>>=nt.extra,lt-=nt.extra,nt.back+=nt.extra}nt.was=nt.length,nt.mode=Ze;case Ze:for(;;){if(ct=nt.distcode[it&(1<<nt.distbits)-1],bt=ct>>>24,St=255&ct>>>16,wt=65535&ct,bt<=lt)break;if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(0==(240&St)){for(Rt=bt,Tt=St,pt=wt;;){if(ct=nt.distcode[pt+((it&(1<<Rt+Tt)-1)>>Rt)],bt=ct>>>24,St=255&ct>>>16,wt=65535&ct,Rt+bt<=lt)break;if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}it>>>=Rt,lt-=Rt,nt.back+=Rt}if(it>>>=bt,lt-=bt,nt.back+=bt,64&St){et.msg='invalid distance code',nt.mode=ze;break}nt.offset=wt,nt.extra=15&St,nt.mode=Fe;case Fe:if(nt.extra){for(xt=nt.extra;lt<xt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}nt.offset+=it&(1<<nt.extra)-1,it>>>=nt.extra,lt-=nt.extra,nt.back+=nt.extra}if(nt.offset>nt.dmax){et.msg='invalid distance too far back',nt.mode=ze;break}nt.mode=Le;case Le:if(0===dt)break inf_leave;if(gt=ut-dt,nt.offset>gt){if(gt=nt.offset-gt,gt>nt.whave&&nt.sane){et.msg='invalid distance too far back',nt.mode=ze;break}gt>nt.wnext?(gt-=nt.wnext,mt=nt.wsize-gt):mt=nt.wnext-gt,gt>nt.length&&(gt=nt.length),Et=nt.window}else Et=at,mt=ft-nt.offset,gt=nt.length;gt>dt&&(gt=dt),dt-=gt,nt.length-=gt;do at[ft++]=Et[mt++];while(--gt);0===nt.length&&(nt.mode=ke);break;case Be:if(0===dt)break inf_leave;at[ft++]=nt.length,dt--,nt.mode=ke;break;case Me:if(nt.wrap){for(;32>lt;){if(0===st)break inf_leave;st--,it|=_t[ot++]<<lt,lt+=8}if(ut-=dt,et.total_out+=ut,nt.total+=ut,ut&&(et.adler=nt.check=nt.flags?te(nt.check,at,ut,ft-ut):ee(nt.check,at,ut,ft-ut)),ut=dt,(nt.flags?it:_(it))!==nt.check){et.msg='incorrect data check',nt.mode=ze;break}it=0,lt=0}nt.mode=He;case He:if(nt.wrap&&nt.flags){for(;32>lt;){if(0===st)break inf_leave;st--,it+=_t[ot++]<<lt,lt+=8}if(it!==(4294967295&nt.total)){et.msg='incorrect length check',nt.mode=ze;break}it=0,lt=0}nt.mode=Pe;case Pe:Ot=1;break inf_leave;case ze:Ot=ie;break inf_leave;case Xe:return le;case 32:default:return re;}return(et.next_out=ft,et.avail_out=dt,et.next_in=ot,et.avail_in=st,nt.hold=it,nt.bits=lt,(nt.wsize||ut!==et.avail_out&&nt.mode<ze&&(nt.mode<Me||tt!==fe))&&E(et,et.output,et.next_out,ut-et.avail_out))?(nt.mode=Xe,le):(ht-=et.avail_in,ut-=et.avail_out,et.total_in+=ht,et.total_out+=ut,nt.total+=ut,nt.wrap&&ut&&(et.adler=nt.check=nt.flags?te(nt.check,at,ut,et.next_out-ut):ee(nt.check,at,ut,et.next_out-ut)),et.data_type=nt.bits+(nt.last?64:0)+(nt.mode===Ce?128:0)+(nt.mode===Ae||nt.mode===ve?256:0),(0===ht&&0===ut||tt===fe)&&Ot===de&&(Ot=-5),Ot)},inflateEnd:function(et){if(!et||!et.state)return re;var tt=et.state;return tt.window&&(tt.window=null),et.state=null,de},inflateGetHeader:function(et,tt){var nt;return et&&et.state?(nt=et.state,0==(2&nt.wrap))?re:(nt.head=tt,tt.done=!1,de):re},inflateSetDictionary:function(et,tt){var _t,at,ot,nt=tt.length;return et&&et.state?(_t=et.state,0!==_t.wrap&&_t.mode!==pe)?re:_t.mode===pe&&(at=1,at=ee(at,tt,nt,0),at!==_t.check)?ie:(ot=E(et,tt,nt,nt),ot)?(_t.mode=Xe,le):(_t.havedict=1,de):re},inflateInfo:'pako inflate (from Nodeca project)'};class qe{constructor(Qe){this._buffer=new N(8),this._behind=null,this._header=null,this._swfInfo=null,this._tagcode=null,this._taglast=null,this._handler=Qe,this._isEnded=!1,this._isError=!1,this._isZLIBCompressed=!1,this._isLZMACompressed=!1,this._zStream=null}get isError(){return this._isError}get isEnded(){return this._isEnded}write(...Qe){if(this._isError)return this._isError=!0,void(this._handler&&this._handler.onError(qe.PARSER_HAS_ERRORED,'Parser has errored'));if(this._isEnded)return this._isError=!0,void(this._handler&&this._handler.onError(qe.END_OF_FILE,'Encounter the end of file'));var et=[],tt=0;for(var nt=0;nt<Qe.length;++nt){var _t=Qe[nt];if(_t instanceof ArrayBuffer)_t=new Uint8Array(_t);else if(_t instanceof Uint8Array||_t instanceof Uint8ClampedArray||_t instanceof Uint16Array||_t instanceof Uint32Array||_t instanceof Int8Array||_t instanceof Int16Array||_t instanceof Int32Array||_t instanceof Float32Array||_t instanceof Float64Array||_t instanceof DataView)_t=new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength);else throw new TypeError('Require buffer or typed array');0<=_t.length&&(tt+=_t.length,et.push(_t))}if(!(0>=tt))for(var nt=0;nt<et.length;++nt){var _t=et[nt];if(!this._header)if(_t.length<this._buffer.remain){this._buffer.setBytes(_t);continue}else{var at=this._buffer.remain;if(this._buffer.setBytes(_t.subarray(0,at)),this._buffer.offset=0,this._header=this._buffer.getHeader(new O),!this._header.isSignatureVaild)return this._isError=!0,void(this._handler&&this._handler.onError(qe.INVAILD_HEADER,'Not a swf header'));var ot=this._buffer.content;if(this._buffer=new N(this._behind=new Uint8Array(this._header.length)),this._buffer.length=0,this._buffer.setBytes(ot),this._header.compression===O.LZMA_COMPRESSED)return this._isLZMACompressed=!0,this._isError=!0,void(this._handler&&this._handler.onError(qe.UNSUPPORTED_COMPRESSION,'LZMA compression does not supprted yet'));if(this._header.compression===O.ZLIB_COMPRESSED&&(this._isZLIBCompressed=!0,this._zStream=new A,Ke.inflateInit2(this._zStream,47),Ke.inflateGetHeader(this._zStream,new F),this._zStream.output=this._behind,this._zStream.next_out=this._buffer.length,this._zStream.avail_out=this._behind.length-this._buffer.length),this._handler&&this._handler.onHeader(this._header),_t.length==at)continue;_t=_t.subarray(at)}if(this._isZLIBCompressed){this._zStream.input=_t,this._zStream.next_in=0,this._zStream.avail_in=_t.length;var ft=Ke.inflate(this._zStream,Z.Z_SYNC_FLUSH);if(ft!==Z.Z_OK&&ft!==Z.Z_STREAM_END)return this._isError=!0,void(this._handler&&this._handler.onError(qe.UNCOMPRESS_FAILURE,U[ft]));if(this._buffer.length=this._zStream.next_out,ft===Z.Z_STREAM_END){if(this._buffer.length!==this._header.length)return this._isError=!0,void(this._handler&&this._handler.onError(qe.UNCOMPRESS_SIZE_ERROR,'Uncompressed size does not match header length'));this._isEnded=!0}}else{if(this._isLZMACompressed)return this._isError=!0,void(this._handler&&this._handler.onError(qe.UNSUPPORTED_COMPRESSION,'LZMA compression does not supprted yet'));this._buffer.write(_t)}if(!this._swfInfo){if(this._swfInfo=this._buffer.trySWFInfo(this._swfInfo),!this._swfInfo)continue;this._handler&&this._handler.onSwfInfo(this._swfInfo)}this.drawTags()}}drawTags(){for(;this._tagcode=this._taglast||this._buffer.tryTagCode(this._tagcode);){if(this._buffer.remain<this._tagcode.length){this._taglast=this._tagcode;break}else this._taglast=null;this._buffer.offset+=this._tagcode.length,this._handler&&this._handler.onSwfTag(this._tagcode)}this._isEnded&&0!=this._buffer.remain&&(this._isError=!0,this._handler&&this._handler.onError(qe.TAG_NOT_COMPLETE,'Tag does not complete'))}setHandler(Qe){this._handler=Qe}}qe.PARSER_HAS_ERRORED=0,qe.END_OF_FILE=1,qe.INVAILD_HEADER=2,qe.UNSUPPORTED_COMPRESSION=3,qe.UNCOMPRESS_FAILURE=5,qe.UNCOMPRESS_SIZE_ERROR=6,qe.TAG_NOT_COMPLETE=7;var je=new qe,Ve=0;if(je.setHandler({onError:function(Qe,et){console.log('[ERROR]:',`(code=${Qe})`,et)},onHeader:function(Qe){console.log('[HEADER]:',Qe.toString())},onSwfInfo:function(Qe){console.log('[SWFINF]:',Qe.toString())},onSwfTag:function(Qe){++Ve,console.log('[TAGCODE]:',Qe.toString())}}),'undefined'!=typeof window){var Je=new XMLHttpRequest;Je.addEventListener('load',function(){S(Je.response)}),Je.open('GET','../assets/angel.swf',!0),Je.responseType='arraybuffer',Je.send(null)}else{var $e=require('fs');S($e.readFileSync('./assets/angel.swf'))}});

