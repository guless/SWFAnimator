(function(_,f){'object'==typeof exports&&'undefined'!=typeof module?f():'function'==typeof define&&define.amd?define(f):f()})(this,function(){'use strict';function _($e){return(255&$e>>>24)+(65280&$e>>>8)+((65280&$e)<<8)+((255&$e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new $.Buf16(320),this.work=new $.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o($e){var Qe;return $e&&$e.state?(Qe=$e.state,$e.total_in=$e.total_out=Qe.total=0,$e.msg='',Qe.wrap&&($e.adler=1&Qe.wrap),Qe.mode=he,Qe.last=0,Qe.havedict=0,Qe.dmax=32768,Qe.head=null,Qe.hold=0,Qe.bits=0,Qe.lencode=Qe.lendyn=new $.Buf32(852),Qe.distcode=Qe.distdyn=new $.Buf32(592),Qe.sane=1,Qe.back=-1,se):re}function r($e){var Qe;return $e&&$e.state?(Qe=$e.state,Qe.wsize=0,Qe.whave=0,Qe.wnext=0,o($e)):re}function h($e,Qe){var et,tt;return $e&&$e.state?(tt=$e.state,0>Qe?(et=0,Qe=-Qe):(et=(Qe>>4)+1,48>Qe&&(Qe&=15)),Qe&&(8>Qe||15<Qe))?re:(null!==tt.window&&tt.wbits!==Qe&&(tt.window=null),tt.wrap=et,tt.wbits=Qe,r($e)):re}function u($e,Qe){var et,tt;return $e?(tt=new f,$e.state=tt,tt.window=null,et=h($e,Qe),et!==se&&($e.state=null),et):re}function g($e){if(Xe){var Qe;for(Ge=new $.Buf32(512),We=new $.Buf32(32),Qe=0;144>Qe;)$e.lens[Qe++]=8;for(;256>Qe;)$e.lens[Qe++]=9;for(;280>Qe;)$e.lens[Qe++]=7;for(;288>Qe;)$e.lens[Qe++]=8;for(ne(_e,$e.lens,0,288,Ge,0,$e.work,{bits:9}),Qe=0;32>Qe;)$e.lens[Qe++]=5;ne(ae,$e.lens,0,32,We,0,$e.work,{bits:5}),Xe=!1}$e.lencode=Ge,$e.lenbits=9,$e.distcode=We,$e.distbits=5}function E($e,Qe,et,tt){var nt,_t=$e.state;return null===_t.window&&(_t.wsize=1<<_t.wbits,_t.wnext=0,_t.whave=0,_t.window=new $.Buf8(_t.wsize)),tt>=_t.wsize?($.arraySet(_t.window,Qe,et-_t.wsize,_t.wsize,0),_t.wnext=0,_t.whave=_t.wsize):(nt=_t.wsize-_t.wnext,nt>tt&&(nt=tt),$.arraySet(_t.window,Qe,et-tt,nt,_t.wnext),tt-=nt,tt?($.arraySet(_t.window,Qe,et-tt,tt,0),_t.wnext=tt,_t.whave=_t.wsize):(_t.wnext+=nt,_t.wnext===_t.wsize&&(_t.wnext=0),_t.whave<_t.wsize&&(_t.whave+=nt))),0}function S($e){console.time('[\u89E3\u7801\u65F6\u95F4]');for(var Qe=0;Qe<$e.length;Qe+=16384)qe.write($e.subarray(Qe,Qe+16384));console.log('[COUNTER]:',je),console.timeEnd('[\u89E3\u7801\u65F6\u95F4]')}class w{static read($e,Qe,et,tt,nt){var _t,at,ft=8*nt-tt-1,ot=(1<<ft)-1,st=ot>>1,dt=-7,it=et?nt-1:0,lt=et?-1:1,ht=$e[Qe+it];for(it+=lt,_t=ht&(1<<-dt)-1,ht>>=-dt,dt+=ft;0<dt;_t=256*_t+$e[Qe+it],it+=lt,dt-=8);for(at=_t&(1<<-dt)-1,_t>>=-dt,dt+=tt;0<dt;at=256*at+$e[Qe+it],it+=lt,dt-=8);if(0===_t)_t=1-st;else{if(_t===ot)return at?NaN:(ht?-1:1)*(1/0);at=at+Math.pow(2,tt),_t=_t-st}return(ht?-1:1)*at*Math.pow(2,_t-tt)}static write($e,Qe,et,tt,nt,_t){var at,ft,ot,st=8*_t-nt-1,dt=(1<<st)-1,it=dt>>1,lt=23===nt?Math.pow(2,-24)-Math.pow(2,-77):0,ht=tt?0:_t-1,ut=tt?1:-1,gt=0>Qe||0===Qe&&0>1/Qe?1:0;for(Qe=Math.abs(Qe),isNaN(Qe)||Qe===1/0?(ft=isNaN(Qe)?1:0,at=dt):(at=Math.floor(Math.log(Qe)/Math.LN2),1>Qe*(ot=Math.pow(2,-at))&&(at--,ot*=2),Qe+=1<=at+it?lt/ot:lt*Math.pow(2,1-it),2<=Qe*ot&&(at++,ot/=2),at+it>=dt?(ft=0,at=dt):1<=at+it?(ft=(Qe*ot-1)*Math.pow(2,nt),at=at+it):(ft=Qe*Math.pow(2,it-1)*Math.pow(2,nt),at=0));8<=nt;$e[et+ht]=255&ft,ht+=ut,ft/=256,nt-=8);for(at=at<<nt|ft,st+=nt;0<st;$e[et+ht]=255&at,ht+=ut,at/=256,st-=8);$e[et+ht-ut]|=128*gt}}class R{static encode($e){var Qe=0;for(var et=0;et<$e.length;++et){var tt=$e.charCodeAt(et);if(55296<=tt&&56319>=tt&&et+1<$e.length){var nt=$e.charCodeAt(et+1);if(56320<=nt&&57343>=nt){++et,Qe+=4;continue}}Qe+=127>=tt?1:2047>=tt?2:3}var _t=new Uint8Array(Qe),at=0;for(var et=0;et<$e.length;++et){var tt=$e.charCodeAt(et);if(55296<=tt&&56319>=tt&&et+1<$e.length){var nt=$e.charCodeAt(et+1);56320<=nt&&57343>=nt&&(++et,tt=((1023&tt)<<10|1023&nt)+65536)}55296<=tt&&57343>=tt&&(tt=65533),127>=tt?_t[at++]=tt:2047>=tt?(_t[at++]=(tt>>>6)+192,_t[at++]=(63&tt)+128):65535>=tt?(_t[at++]=(tt>>>12)+224,_t[at++]=(63&tt>>>6)+128,_t[at++]=(63&tt)+128):(_t[at++]=(tt>>>18)+240,_t[at++]=(63&tt>>>12)+128,_t[at++]=(63&tt>>>6)+128,_t[at++]=(63&tt)+128)}return _t}static decode($e){var Qe='';for(var et=0;et<$e.length;++et){var tt=$e[et];if(128<=tt){var nt=0;if(194>tt||244<tt)tt=65533;else switch(!0){case 240==(240&tt):if(et+2>=$e.length)tt=65533,nt=0;else{var _t=$e[et+1];240==tt&&144>_t||244==tt&&143<_t?(tt=65533,nt=0):(tt=7&tt,nt=3)}break;case 224==(224&tt):if(et+2>=$e.length)tt=65533,nt=0;else{var _t=$e[et+1];224==tt&&160>_t||237==tt&&159<_t?(tt=65533,nt=0):(tt=15&tt,nt=2)}break;case 192==(192&tt):et+1>=$e.length?(tt=65533,nt=0):(tt=31&tt,nt=1);break;default:tt=65533;}for(var at=et,ft=1;ft<=nt;++ft){var ot=$e[ft+at];if(128<=ot&&191>=ot)++et,tt=tt<<6|63&ot;else{tt=65533;break}}}65536<=tt?Qe+=String.fromCharCode((tt>>10)+55232,(1023&tt)+56320):65279!=tt&&(Qe+=String.fromCharCode(tt))}return Qe}}class T{static encode($e){var Qe=0,et=new Uint8Array(2*$e.length);for(var tt=0;tt<$e.length;++tt){var nt=$e.charCodeAt(tt);et[Qe++]=nt,et[Qe++]=nt>>8}return et}static decode($e){if(1==(1&$e.length))throw new RangeError('Invalid buffer length.');var Qe='';for(var et=0;et<$e.length;et+=2){var tt=$e[et]|$e[et+1]<<8;Qe+=String.fromCharCode(tt)}return Qe}}class C{constructor(...$e){if(0==$e.length||void 0==$e[0])this._buffer=new Uint8Array(0);else if('number'==typeof $e[0])this._buffer=new Uint8Array($e[0]);else if(C.__HAS_STATIC_ISARRAY__?Array.isArray($e[0]):$e[0]instanceof Array)this._buffer=new Uint8Array($e[0]);else if($e[0]instanceof ArrayBuffer)this._buffer=new Uint8Array($e[0],$e[1],$e[2]);else if($e[0]instanceof Uint8Array||$e[0]instanceof Uint8ClampedArray||$e[0]instanceof Uint16Array||$e[0]instanceof Uint32Array||$e[0]instanceof Int8Array||$e[0]instanceof Int16Array||$e[0]instanceof Int32Array||$e[0]instanceof Float32Array||$e[0]instanceof Float64Array||$e[0]instanceof DataView)this._buffer=new Uint8Array($e[0].buffer,$e[0].byteOffset,$e[0].byteLength);else throw new TypeError('Require buffer or typed array');this._offset=0,this._length=this._buffer.length}get offset(){return this._offset}set offset($e){if(0>$e&&($e+=this._length),0>$e)throw new RangeError('Offset is outside the bounds of the buffer');this._offset=$e}get remain(){return Math.max(0,this._length-this._offset)}get length(){return this._length}set length($e){if(0>$e)throw new RangeError('Invalid buffer length');this.alloc(this._length,this._length=$e)}get content(){return this._buffer.subarray(0,this._length)}seton($e){$e>this.remain&&this.alloc(this._offset,this._length=$e+this._offset)}geton($e){if($e>this.remain)throw new RangeError('Offset is outside the bounds of the buffer')}alloc($e,Qe,et=!1){if(!(this._buffer.length>=Qe)){var tt=et?Qe:C.__CHUNK_SIZE__*Math.ceil(Qe/C.__CHUNK_SIZE__),nt=this._buffer.subarray(0,Math.min($e,this._length));this._buffer=new Uint8Array(tt),this._buffer.set(nt,0)}}write(...$e){if(1==$e.length){var Qe=$e[0];if(Qe instanceof ArrayBuffer)Qe=new Uint8Array(Qe);else if(Qe instanceof Uint8Array||Qe instanceof Uint8ClampedArray||Qe instanceof Uint16Array||Qe instanceof Uint32Array||Qe instanceof Int8Array||Qe instanceof Int16Array||Qe instanceof Int32Array||Qe instanceof Float32Array||Qe instanceof Float64Array||Qe instanceof DataView)Qe=new Uint8Array(Qe.buffer,Qe.byteOffset,Qe.byteLength);else throw new TypeError('Require buffer or typed array');if(0==Qe.length)return;this.alloc(this._length,this._length+=Qe.length),this._buffer.set(Qe,this._length-Qe.length)}else{var et=0,tt=[];for(var nt=0;nt<$e.length;++nt){var Qe=$e[nt];if(Qe instanceof ArrayBuffer)Qe=new Uint8Array(Qe);else if(Qe instanceof Uint8Array||Qe instanceof Uint8ClampedArray||Qe instanceof Uint16Array||Qe instanceof Uint32Array||Qe instanceof Int8Array||Qe instanceof Int16Array||Qe instanceof Int32Array||Qe instanceof Float32Array||Qe instanceof Float64Array||Qe instanceof DataView)Qe=new Uint8Array(Qe.buffer,Qe.byteOffset,Qe.byteLength);else throw new TypeError('Require buffer or typed array');0<Qe.length&&(et+=Qe.length,tt.push(Qe))}if(0>=et)return;this.alloc(this._length,this._length+=et);for(var nt=0,_t=this._length-et;nt<tt.length;++nt){var Qe=tt[nt];this._buffer.set(Qe,(_t+=Qe.length)-Qe.length)}}}flush(...$e){var Qe=0;Qe=0==$e.length?this._offset:+$e[0],0>=Qe||(Qe<this._length&&(C.__HAS_COPY_WITHIN__?this._buffer.copyWithin(0,Qe,this._length):this._buffer.set(this._buffer.subarray(Qe,this._length),0)),this._offset=Math.max(0,this._offset-Qe),this._length=Math.max(0,this._length-Qe))}hexof($e=0,Qe=16){if(0>$e&&($e+=this._length),0>$e)throw new RangeError('Offset is outside the bounds of the buffer');if(0>Qe)throw new RangeError('Invalid buffer length');var et=[],tt=Math.max(0,Math.min(Qe,this._length-$e));for(var nt=0;nt<tt;++nt)et.push(('0'+this._buffer[nt+$e].toString(16)).slice(-2));return 0>=et.length?et.push('empty'):this._length>tt+$e&&et.push('...'),`[Buffer offset=${this._offset}, length=${this._length}, content=<${et.toString()}>]`}getBool(){return this.geton(1),!!this._buffer[this._offset++]}setBool($e){this.seton(1),this._buffer[this._offset++]=!!$e}getUI8(){return this.geton(1),this._buffer[this._offset++]}setUI8($e){this.seton(1),this._buffer[this._offset++]=$e}getSI8(){return this.geton(1),this._buffer[this._offset++]<<24>>24}setSI8($e){this.seton(1),this._buffer[this._offset++]=$e}getUI16(){this.geton(2);var $e=this._buffer[this._offset++],Qe=this._buffer[this._offset++];return Qe<<8|$e}setUI16($e){this.seton(2),this._buffer[this._offset++]=$e,this._buffer[this._offset++]=$e>>8}getSI16(){this.geton(2);var $e=this._buffer[this._offset++],Qe=this._buffer[this._offset++];return(Qe<<8|$e)<<16>>16}setSI16($e){this.seton(2),this._buffer[this._offset++]=$e,this._buffer[this._offset++]=$e>>8}getUI32(){this.geton(4);var $e=this._buffer[this._offset++],Qe=this._buffer[this._offset++],et=this._buffer[this._offset++],tt=this._buffer[this._offset++];return(tt<<24|et<<16|Qe<<8|$e)>>>0}setUI32($e){this.seton(4),this._buffer[this._offset++]=$e,this._buffer[this._offset++]=$e>>8,this._buffer[this._offset++]=$e>>16,this._buffer[this._offset++]=$e>>24}getSI32(){this.geton(4);var $e=this._buffer[this._offset++],Qe=this._buffer[this._offset++],et=this._buffer[this._offset++],tt=this._buffer[this._offset++];return tt<<24|et<<16|Qe<<8|$e}setSI32($e){this.seton(4),this._buffer[this._offset++]=$e,this._buffer[this._offset++]=$e>>8,this._buffer[this._offset++]=$e>>16,this._buffer[this._offset++]=$e>>24}getFL32(){return this.geton(4),w.read(this._buffer,(this._offset+=4)-4,!0,23,4)}setFL32($e){this.seton(4),w.write(this._buffer,$e,(this._offset+=4)-4,!0,23,4)}getFL64(){return this.geton(8),w.read(this._buffer,(this._offset+=8)-8,!0,52,8)}setFL64($e){this.seton(8),w.write(this._buffer,$e,(this._offset+=8)-8,!0,52,8)}getBytes($e){if(0>$e)throw new RangeError('Invalid buffer length.');return this.geton($e),this._buffer.subarray(this._offset,this._offset+=$e)}setBytes($e){this.seton($e.length),this._buffer.set($e,(this._offset+=$e.length)-$e.length)}getUTF8($e){return C.__USE_TEXT_ENCODER__&&C.__HAS_TEXT_ENCODER__?(C.__UTF8_TEXT_DECODER__||(C.__UTF8_TEXT_DECODER__=new TextDecoder('utf-8')),C.__UTF8_TEXT_DECODER__.decode(this.getBytes($e))):R.decode(this.getBytes($e))}setUTF8($e){C.__USE_TEXT_ENCODER__&&C.__HAS_TEXT_ENCODER__?(!C.__UTF8_TEXT_ENCODER__&&(C.__UTF8_TEXT_ENCODER__=new TextEncoder('utf-8')),this.setBytes(C.__UTF8_TEXT_ENCODER__.encode($e))):this.setBytes(R.encode($e))}getUCS2($e){return C.__HAS_TEXT_ENCODER__&&C.__HAS_UTF16_DECODER__?(C.__UCS2_TEXT_DECODER__||(C.__UCS2_TEXT_DECODER__=new TextDecoder('utf-16le')),C.__UCS2_TEXT_DECODER__.decode(this.getBytes($e))):T.decode(this.getBytes($e))}setUCS2($e){C.__HAS_TEXT_ENCODER__&&C.__HAS_UTF16_ENCODER__?(!C.__UCS2_TEXT_ENCODER__&&(C.__UCS2_TEXT_ENCODER__=new TextEncoder('utf-16le')),this.setBytes(C.__UCS2_TEXT_ENCODER__.encode($e))):this.setBytes(T.encode($e))}getStruct($e){return $e.decode(this),$e}setStruct($e){$e.encode(this)}toString(){return this.hexof(0)}}C.__CHUNK_SIZE__=2048,C.__USE_TEXT_ENCODER__=!0,C.__HAS_TEXT_ENCODER__='function'==typeof TextEncoder&&'function'==typeof TextDecoder,C.__HAS_COPY_WITHIN__='function'==typeof Uint8Array.prototype.copyWithin,C.__HAS_STATIC_ISARRAY__='function'==typeof Array.isArray,C.__HAS_UTF16_DECODER__=C.__HAS_TEXT_ENCODER__&&'utf-16le'==new TextDecoder('utf-16le').encoding,C.__HAS_UTF16_ENCODER__=C.__HAS_TEXT_ENCODER__&&'utf-16le'==new TextEncoder('utf-16le').encoding,C.__UTF8_TEXT_ENCODER__=null,C.__UTF8_TEXT_DECODER__=null,C.__UCS2_TEXT_ENCODER__=null,C.__UCS2_TEXT_DECODER__=null;class O{constructor(){this._signature=null,this._version=0,this._length=0}get version(){return this._version}get length(){return this._length}get signature(){return String.fromCharCode(this._signature[0],this._signature[1],this._signature[2])}get compression(){return this._signature[0]}get isCompressed(){return this._signature[0]===O.ZLIB_COMPRESSED||this._signature[0]===O.LZMA_COMPRESSED}get isSignatureVaild(){return(this._signature[0]===O.UNCOMPRESS||this._signature[0]===O.ZLIB_COMPRESSED||this._signature[0]===O.LZMA_COMPRESSED)&&this._signature[1]===O.SIGN2&&this._signature[2]===O.SIGN3}decode($e){this._signature=new Uint8Array($e.getBytes(3)),this._version=$e.getUI8(),this._length=$e.getUI32()}encode($e){$e.setBytes(this._signature),$e.setUI8(this._version),$e.setUI32(this._length)}toString(){return`[SWFHeader signature="${this.signature}", compression=${this.isCompressed}, version=${this.version}, length=${this.length}]`}}O.UNCOMPRESS=70,O.ZLIB_COMPRESSED=67,O.LZMA_COMPRESSED=90,O.SIGN2=87,O.SIGN3=83;class v{constructor($e=0,Qe=0,et=0,tt=0){this.x=$e,this.y=Qe,this.width=et,this.height=tt}toString(){return`Rect(${this.x},${this.y},${this.width},${this.height})`}}class D{constructor(){this._viewport=null,this._frameRate=0,this._totalFrames=0}get viewport(){return this._viewport}get frameRate(){return this._frameRate}get totalFrames(){return this._totalFrames}decode($e){this._viewport=$e.getRect(this._viewport||new v),this._frameRate=$e.getFP16(),this._totalFrames=$e.getUI16()}encode($e){$e.setRect(this._viewport),$e.setFP16(this._frameRate),$e.setUI16(this._totalFrames)}toString(){return`[SWFInfo viewport=${this.viewport}, frameRate=${this.frameRate}, totalFrames=${this.totalFrames}]`}}class I{constructor($e=0,Qe=0){this.code=$e,this.length=Qe}toString(){return`SWFTagCode(${this.code},${this.length})`}}class N extends C{constructor(...$e){super(...$e)}getHeader($e){return this.getStruct($e||new O)}setHeader($e){this.setStruct($e)}getSWFInfo($e){return this.getStruct($e||new D)}setSWFInfo($e){this.setStruct($e)}trySWFInfo($e){if(1>this.remain)return null;var Qe=this._buffer[this._offset]>>3;return this.remain>=2+((Qe<<2)-3>>3)+4?this.getSWFInfo($e):null}getTagCode($e){this.geton(2);var Qe=this._buffer[this._offset++],et=this._buffer[this._offset++],tt=63&Qe;return 63==tt&&(tt=this.getUI32()),$e||($e=new I),$e.code=et<<2|Qe>>6,$e.length=tt,$e}setTagCode(){throw new SyntaxError('Method does not implements')}tryTagCode($e){return 2>this.remain?null:6>this.remain&&63==(63&this._buffer[this._offset])?null:this.getTagCode($e)}getFP16(){return this.getSI16()/256}setFP16(){throw new SyntaxError('Method does not implements')}getFP32(){return this.getSI32()/65536}setFP32(){throw new SyntaxError('Method does not implements')}bitget($e,Qe){if(0>=Qe)throw new RangeError(`The "nbits" must be a strictly positive integer`);var et=0,tt=this._offset+($e>>3),nt=7&$e;if(0!=nt){var _t=8-nt;if(et=this._buffer[tt++]&(1<<_t)-1,Qe-=_t,0>=Qe)return et>>-Qe}for(;8<=Qe;Qe-=8)et=et<<8|this._buffer[tt++];return 0<Qe&&(et=this._buffer[tt]>>8-Qe|et<<Qe),et}bitset(){throw new SyntaxError('Method does not implements')}getRect($e){this.geton(1);var Qe=this._buffer[this._offset]>>3,et=2+((Qe<<2)-3>>3);this.geton(et);var tt=this.bitget(5,Qe),nt=this.bitget(5+Qe,Qe),_t=this.bitget(5+2*Qe,Qe),at=this.bitget(5+3*Qe,Qe),ft=32-Qe;return $e.x=tt<<ft>>ft,$e.y=_t<<ft>>ft,$e.width=(nt<<ft>>ft)-$e.x,$e.height=(at<<ft>>ft)-$e.y,this._offset+=et,$e}setRect(){throw new SyntaxError('Method does not implements')}}var Ge,We,A=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg='',this.state=null,this.data_type=2,this.adler=0},U={'0':'','1':'stream end','2':'need dictionary','-1':'file error','-2':'stream error','-3':'data error','-4':'insufficient memory','-5':'buffer error','-6':'incompatible version'},Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},F=function(Qe,et){return et={exports:{}},Qe(et,et.exports),et.exports}(function($e,Qe){'use strict';var et='undefined'!=typeof Uint8Array&&'undefined'!=typeof Uint16Array&&'undefined'!=typeof Int32Array;Qe.assign=function(_t){for(var at=Array.prototype.slice.call(arguments,1);at.length;){var ft=at.shift();if(ft){if('object'!=typeof ft)throw new TypeError(ft+'must be non-object');for(var ot in ft)ft.hasOwnProperty(ot)&&(_t[ot]=ft[ot])}}return _t},Qe.shrinkBuf=function(_t,at){return _t.length===at?_t:_t.subarray?_t.subarray(0,at):(_t.length=at,_t)};var tt={arraySet:function(_t,at,ft,ot,st){if(at.subarray&&_t.subarray)return void _t.set(at.subarray(ft,ft+ot),st);for(var dt=0;dt<ot;dt++)_t[st+dt]=at[ft+dt]},flattenChunks:function(_t){var at,ft,ot,st,dt,it;for(ot=0,at=0,ft=_t.length;at<ft;at++)ot+=_t[at].length;for(it=new Uint8Array(ot),st=0,(at=0,ft=_t.length);at<ft;at++)dt=_t[at],it.set(dt,st),st+=dt.length;return it}},nt={arraySet:function(_t,at,ft,ot,st){for(var dt=0;dt<ot;dt++)_t[st+dt]=at[ft+dt]},flattenChunks:function(_t){return[].concat.apply([],_t)}};Qe.setTyped=function(_t){_t?(Qe.Buf8=Uint8Array,Qe.Buf16=Uint16Array,Qe.Buf32=Int32Array,Qe.assign(Qe,tt)):(Qe.Buf8=Array,Qe.Buf16=Array,Qe.Buf32=Array,Qe.assign(Qe,nt))},Qe.setTyped(et)}),L=function(){var Qe,et=[];for(var tt=0;256>tt;tt++){Qe=tt;for(var nt=0;8>nt;nt++)Qe=1&Qe?3988292384^Qe>>>1:Qe>>>1;et[tt]=Qe}return et}(),B=30,M=F,P=15,H=852,z=592,X=0,G=1,W=2,K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],J=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],$=F,Q=function(Qe,et,tt,nt){for(var _t=0|65535&Qe,at=0|65535&Qe>>>16,ft=0;0!==tt;){ft=2e3<tt?2e3:tt,tt-=ft;do _t=0|_t+et[nt++],at=0|at+_t;while(--ft);_t%=65521,at%=65521}return 0|(_t|at<<16)},ee=function(Qe,et,tt,nt){Qe^=-1;for(var _t=nt;_t<nt+tt;_t++)Qe=Qe>>>8^L[255&(Qe^et[_t])];return-1^Qe},te=function(Qe,et){var tt,nt,_t,at,ft,ot,st,dt,it,lt,ht,ut,gt,ct,mt,Et,bt,St,wt,Rt,Tt,pt,Ct,Ot,yt;tt=Qe.state,nt=Qe.next_in,Ot=Qe.input,_t=nt+(Qe.avail_in-5),at=Qe.next_out,yt=Qe.output,ft=at-(et-Qe.avail_out),ot=at+(Qe.avail_out-257),st=tt.dmax,dt=tt.wsize,it=tt.whave,lt=tt.wnext,ht=tt.window,ut=tt.hold,gt=tt.bits,ct=tt.lencode,mt=tt.distcode,Et=(1<<tt.lenbits)-1,bt=(1<<tt.distbits)-1;top:do{15>gt&&(ut+=Ot[nt++]<<gt,gt+=8,ut+=Ot[nt++]<<gt,gt+=8),St=ct[ut&Et];dolen:for(;;){if(wt=St>>>24,ut>>>=wt,gt-=wt,wt=255&St>>>16,0===wt)yt[at++]=65535&St;else if(16&wt){Rt=65535&St,wt&=15,wt&&(gt<wt&&(ut+=Ot[nt++]<<gt,gt+=8),Rt+=ut&(1<<wt)-1,ut>>>=wt,gt-=wt),15>gt&&(ut+=Ot[nt++]<<gt,gt+=8,ut+=Ot[nt++]<<gt,gt+=8),St=mt[ut&bt];dodist:for(;;){if(wt=St>>>24,ut>>>=wt,gt-=wt,wt=255&St>>>16,16&wt){if(Tt=65535&St,wt&=15,gt<wt&&(ut+=Ot[nt++]<<gt,gt+=8,gt<wt&&(ut+=Ot[nt++]<<gt,gt+=8)),Tt+=ut&(1<<wt)-1,Tt>st){Qe.msg='invalid distance too far back',tt.mode=B;break top}if(ut>>>=wt,gt-=wt,wt=at-ft,Tt>wt){if(wt=Tt-wt,wt>it&&tt.sane){Qe.msg='invalid distance too far back',tt.mode=B;break top}if(pt=0,Ct=ht,0===lt){if(pt+=dt-wt,wt<Rt){Rt-=wt;do yt[at++]=ht[pt++];while(--wt);pt=at-Tt,Ct=yt}}else if(lt<wt){if(pt+=dt+lt-wt,wt-=lt,wt<Rt){Rt-=wt;do yt[at++]=ht[pt++];while(--wt);if(pt=0,lt<Rt){wt=lt,Rt-=wt;do yt[at++]=ht[pt++];while(--wt);pt=at-Tt,Ct=yt}}}else if(pt+=lt-wt,wt<Rt){Rt-=wt;do yt[at++]=ht[pt++];while(--wt);pt=at-Tt,Ct=yt}for(;2<Rt;)yt[at++]=Ct[pt++],yt[at++]=Ct[pt++],yt[at++]=Ct[pt++],Rt-=3;Rt&&(yt[at++]=Ct[pt++],1<Rt&&(yt[at++]=Ct[pt++]))}else{pt=at-Tt;do yt[at++]=yt[pt++],yt[at++]=yt[pt++],yt[at++]=yt[pt++],Rt-=3;while(2<Rt);Rt&&(yt[at++]=yt[pt++],1<Rt&&(yt[at++]=yt[pt++]))}}else if(0==(64&wt)){St=mt[(65535&St)+(ut&(1<<wt)-1)];continue dodist}else{Qe.msg='invalid distance code',tt.mode=B;break top}break}}else if(0==(64&wt)){St=ct[(65535&St)+(ut&(1<<wt)-1)];continue dolen}else if(32&wt){tt.mode=12;break top}else{Qe.msg='invalid literal/length code',tt.mode=B;break top}break}}while(nt<_t&&at<ot);Rt=gt>>3,nt-=Rt,gt-=Rt<<3,ut&=(1<<gt)-1,Qe.next_in=nt,Qe.next_out=at,Qe.avail_in=nt<_t?5+(_t-nt):5-(nt-_t),Qe.avail_out=at<ot?257+(ot-at):257-(at-ot),tt.hold=ut,tt.bits=gt},ne=function(Qe,et,tt,nt,_t,at,ft,ot){var St,wt,Rt,Tt,pt,yt,Nt,kt,At,st=ot.bits,dt=0,it=0,lt=0,ht=0,ut=0,gt=0,ct=0,mt=0,Et=0,bt=0,Ct=null,Ot=0,vt=new M.Buf16(P+1),xt=new M.Buf16(P+1),Dt=null,It=0;for(dt=0;dt<=P;dt++)vt[dt]=0;for(it=0;it<nt;it++)vt[et[tt+it]]++;for(ut=st,ht=P;1<=ht&&0===vt[ht];ht--);if(ut>ht&&(ut=ht),0===ht)return _t[at++]=20971520,_t[at++]=20971520,ot.bits=1,0;for(lt=1;lt<ht&&0===vt[lt];lt++);for(ut<lt&&(ut=lt),mt=1,dt=1;dt<=P;dt++)if(mt<<=1,mt-=vt[dt],0>mt)return-1;if(0<mt&&(Qe===X||1!==ht))return-1;for(xt[1]=0,dt=1;dt<P;dt++)xt[dt+1]=xt[dt]+vt[dt];for(it=0;it<nt;it++)0!==et[tt+it]&&(ft[xt[et[tt+it]]++]=it);if(Qe===X?(Ct=Dt=ft,yt=19):Qe===G?(Ct=K,Ot-=257,Dt=Y,It-=257,yt=256):(Ct=V,Dt=J,yt=-1),bt=0,it=0,dt=lt,pt=at,gt=ut,ct=0,Rt=-1,Et=1<<ut,Tt=Et-1,Qe===G&&Et>H||Qe===W&&Et>z)return 1;for(;;){Nt=dt-ct,ft[it]<yt?(kt=0,At=ft[it]):ft[it]>yt?(kt=Dt[It+ft[it]],At=Ct[Ot+ft[it]]):(kt=96,At=0),St=1<<dt-ct,wt=1<<gt,lt=wt;do wt-=St,_t[pt+(bt>>ct)+wt]=0|(Nt<<24|kt<<16|At);while(0!==wt);for(St=1<<dt-1;bt&St;)St>>=1;if(0===St?bt=0:(bt&=St-1,bt+=St),it++,0==--vt[dt]){if(dt===ht)break;dt=et[tt+ft[it]]}if(dt>ut&&(bt&Tt)!==Rt){for(0==ct&&(ct=ut),pt+=lt,gt=dt-ct,mt=1<<gt;gt+ct<ht&&(mt-=vt[gt+ct],!(0>=mt));)gt++,mt<<=1;if(Et+=1<<gt,Qe===G&&Et>H||Qe===W&&Et>z)return 1;Rt=bt&Tt,_t[Rt]=0|(ut<<24|gt<<16|pt-at)}}return 0!=bt&&(_t[pt+bt]=0|(4194304|dt-ct<<24)),ot.bits=ut,0},_e=1,ae=2,fe=4,oe=6,se=0,re=-2,de=-3,ie=-4,le=8,he=1,ue=2,ge=3,ce=4,me=5,Ee=6,be=7,Se=8,we=9,Re=10,Te=11,pe=12,Ce=13,Oe=14,ye=15,ve=16,xe=17,De=18,Ie=19,Ne=20,ke=21,Ae=22,Ue=23,Ze=24,Fe=25,Le=26,Be=27,Me=28,Pe=29,He=30,ze=31,Xe=!0,Ke={inflateReset:r,inflateReset2:h,inflateResetKeep:o,inflateInit:function(Qe){return u(Qe,15)},inflateInit2:u,inflate:function(Qe,et){var tt,nt,_t,at,ft,ot,st,dt,it,lt,ht,ut,gt,ct,Et,bt,St,wt,Rt,Tt,pt,Ct,yt,vt,mt=0,Ot=new $.Buf8(4),xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Qe||!Qe.state||!Qe.output||!Qe.input&&0!==Qe.avail_in)return re;tt=Qe.state,tt.mode===pe&&(tt.mode=Ce),ft=Qe.next_out,_t=Qe.output,st=Qe.avail_out,at=Qe.next_in,nt=Qe.input,ot=Qe.avail_in,dt=tt.hold,it=tt.bits,lt=ot,ht=st,Ct=se;inf_leave:for(;;)switch(tt.mode){case he:if(0===tt.wrap){tt.mode=Ce;break}for(;16>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(2&tt.wrap&&35615===dt){tt.check=0,Ot[0]=255&dt,Ot[1]=255&dt>>>8,tt.check=ee(tt.check,Ot,2,0),dt=0,it=0,tt.mode=ue;break}if(tt.flags=0,tt.head&&(tt.head.done=!1),!(1&tt.wrap)||(((255&dt)<<8)+(dt>>8))%31){Qe.msg='incorrect header check',tt.mode=He;break}if((15&dt)!==le){Qe.msg='unknown compression method',tt.mode=He;break}if(dt>>>=4,it-=4,pt=(15&dt)+8,0===tt.wbits)tt.wbits=pt;else if(pt>tt.wbits){Qe.msg='invalid window size',tt.mode=He;break}tt.dmax=1<<pt,Qe.adler=tt.check=1,tt.mode=512&dt?Re:pe,dt=0,it=0;break;case ue:for(;16>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(tt.flags=dt,(255&tt.flags)!==le){Qe.msg='unknown compression method',tt.mode=He;break}if(57344&tt.flags){Qe.msg='unknown header flags set',tt.mode=He;break}tt.head&&(tt.head.text=1&dt>>8),512&tt.flags&&(Ot[0]=255&dt,Ot[1]=255&dt>>>8,tt.check=ee(tt.check,Ot,2,0)),dt=0,it=0,tt.mode=ge;case ge:for(;32>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}tt.head&&(tt.head.time=dt),512&tt.flags&&(Ot[0]=255&dt,Ot[1]=255&dt>>>8,Ot[2]=255&dt>>>16,Ot[3]=255&dt>>>24,tt.check=ee(tt.check,Ot,4,0)),dt=0,it=0,tt.mode=ce;case ce:for(;16>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}tt.head&&(tt.head.xflags=255&dt,tt.head.os=dt>>8),512&tt.flags&&(Ot[0]=255&dt,Ot[1]=255&dt>>>8,tt.check=ee(tt.check,Ot,2,0)),dt=0,it=0,tt.mode=me;case me:if(1024&tt.flags){for(;16>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}tt.length=dt,tt.head&&(tt.head.extra_len=dt),512&tt.flags&&(Ot[0]=255&dt,Ot[1]=255&dt>>>8,tt.check=ee(tt.check,Ot,2,0)),dt=0,it=0}else tt.head&&(tt.head.extra=null);tt.mode=Ee;case Ee:if(1024&tt.flags&&(ut=tt.length,ut>ot&&(ut=ot),ut&&(tt.head&&(pt=tt.head.extra_len-tt.length,!tt.head.extra&&(tt.head.extra=Array(tt.head.extra_len)),$.arraySet(tt.head.extra,nt,at,ut,pt)),512&tt.flags&&(tt.check=ee(tt.check,nt,ut,at)),ot-=ut,at+=ut,tt.length-=ut),tt.length))break inf_leave;tt.length=0,tt.mode=be;case be:if(2048&tt.flags){if(0===ot)break inf_leave;ut=0;do pt=nt[at+ut++],tt.head&&pt&&65536>tt.length&&(tt.head.name+=String.fromCharCode(pt));while(pt&&ut<ot);if(512&tt.flags&&(tt.check=ee(tt.check,nt,ut,at)),ot-=ut,at+=ut,pt)break inf_leave}else tt.head&&(tt.head.name=null);tt.length=0,tt.mode=Se;case Se:if(4096&tt.flags){if(0===ot)break inf_leave;ut=0;do pt=nt[at+ut++],tt.head&&pt&&65536>tt.length&&(tt.head.comment+=String.fromCharCode(pt));while(pt&&ut<ot);if(512&tt.flags&&(tt.check=ee(tt.check,nt,ut,at)),ot-=ut,at+=ut,pt)break inf_leave}else tt.head&&(tt.head.comment=null);tt.mode=we;case we:if(512&tt.flags){for(;16>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(dt!==(65535&tt.check)){Qe.msg='header crc mismatch',tt.mode=He;break}dt=0,it=0}tt.head&&(tt.head.hcrc=1&tt.flags>>9,tt.head.done=!0),Qe.adler=tt.check=0,tt.mode=pe;break;case Re:for(;32>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}Qe.adler=tt.check=_(dt),dt=0,it=0,tt.mode=Te;case Te:if(0===tt.havedict)return Qe.next_out=ft,Qe.avail_out=st,Qe.next_in=at,Qe.avail_in=ot,tt.hold=dt,tt.bits=it,2;Qe.adler=tt.check=1,tt.mode=pe;case pe:if(5===et||et===oe)break inf_leave;case Ce:if(tt.last){dt>>>=7&it,it-=7&it,tt.mode=Be;break}for(;3>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}switch(tt.last=1&dt,dt>>>=1,it-=1,3&dt){case 0:tt.mode=Oe;break;case 1:if(g(tt),tt.mode=Ne,et===oe){dt>>>=2,it-=2;break inf_leave}break;case 2:tt.mode=xe;break;case 3:Qe.msg='invalid block type',tt.mode=He;}dt>>>=2,it-=2;break;case Oe:for(dt>>>=7&it,it-=7&it;32>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if((65535&dt)!=(65535^dt>>>16)){Qe.msg='invalid stored block lengths',tt.mode=He;break}if(tt.length=65535&dt,dt=0,it=0,tt.mode=ye,et===oe)break inf_leave;case ye:tt.mode=ve;case ve:if(ut=tt.length,ut){if(ut>ot&&(ut=ot),ut>st&&(ut=st),0===ut)break inf_leave;$.arraySet(_t,nt,at,ut,ft),ot-=ut,at+=ut,st-=ut,ft+=ut,tt.length-=ut;break}tt.mode=pe;break;case xe:for(;14>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(tt.nlen=(31&dt)+257,dt>>>=5,it-=5,tt.ndist=(31&dt)+1,dt>>>=5,it-=5,tt.ncode=(15&dt)+4,dt>>>=4,it-=4,286<tt.nlen||30<tt.ndist){Qe.msg='too many length or distance symbols',tt.mode=He;break}tt.have=0,tt.mode=De;case De:for(;tt.have<tt.ncode;){for(;3>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}tt.lens[xt[tt.have++]]=7&dt,dt>>>=3,it-=3}for(;19>tt.have;)tt.lens[xt[tt.have++]]=0;if(tt.lencode=tt.lendyn,tt.lenbits=7,yt={bits:tt.lenbits},Ct=ne(0,tt.lens,0,19,tt.lencode,0,tt.work,yt),tt.lenbits=yt.bits,Ct){Qe.msg='invalid code lengths set',tt.mode=He;break}tt.have=0,tt.mode=Ie;case Ie:for(;tt.have<tt.nlen+tt.ndist;){for(;;){if(mt=tt.lencode[dt&(1<<tt.lenbits)-1],Et=mt>>>24,bt=255&mt>>>16,St=65535&mt,Et<=it)break;if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(16>St)dt>>>=Et,it-=Et,tt.lens[tt.have++]=St;else{if(16===St){for(vt=Et+2;it<vt;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(dt>>>=Et,it-=Et,0===tt.have){Qe.msg='invalid bit length repeat',tt.mode=He;break}pt=tt.lens[tt.have-1],ut=3+(3&dt),dt>>>=2,it-=2}else if(17===St){for(vt=Et+3;it<vt;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}dt>>>=Et,it-=Et,pt=0,ut=3+(7&dt),dt>>>=3,it-=3}else{for(vt=Et+7;it<vt;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}dt>>>=Et,it-=Et,pt=0,ut=11+(127&dt),dt>>>=7,it-=7}if(tt.have+ut>tt.nlen+tt.ndist){Qe.msg='invalid bit length repeat',tt.mode=He;break}for(;ut--;)tt.lens[tt.have++]=pt}}if(tt.mode===He)break;if(0===tt.lens[256]){Qe.msg='invalid code -- missing end-of-block',tt.mode=He;break}if(tt.lenbits=9,yt={bits:tt.lenbits},Ct=ne(_e,tt.lens,0,tt.nlen,tt.lencode,0,tt.work,yt),tt.lenbits=yt.bits,Ct){Qe.msg='invalid literal/lengths set',tt.mode=He;break}if(tt.distbits=6,tt.distcode=tt.distdyn,yt={bits:tt.distbits},Ct=ne(ae,tt.lens,tt.nlen,tt.ndist,tt.distcode,0,tt.work,yt),tt.distbits=yt.bits,Ct){Qe.msg='invalid distances set',tt.mode=He;break}if(tt.mode=Ne,et===oe)break inf_leave;case Ne:tt.mode=ke;case ke:if(6<=ot&&258<=st){Qe.next_out=ft,Qe.avail_out=st,Qe.next_in=at,Qe.avail_in=ot,tt.hold=dt,tt.bits=it,te(Qe,ht),ft=Qe.next_out,_t=Qe.output,st=Qe.avail_out,at=Qe.next_in,nt=Qe.input,ot=Qe.avail_in,dt=tt.hold,it=tt.bits,tt.mode===pe&&(tt.back=-1);break}for(tt.back=0;;){if(mt=tt.lencode[dt&(1<<tt.lenbits)-1],Et=mt>>>24,bt=255&mt>>>16,St=65535&mt,Et<=it)break;if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(bt&&0==(240&bt)){for(wt=Et,Rt=bt,Tt=St;;){if(mt=tt.lencode[Tt+((dt&(1<<wt+Rt)-1)>>wt)],Et=mt>>>24,bt=255&mt>>>16,St=65535&mt,wt+Et<=it)break;if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}dt>>>=wt,it-=wt,tt.back+=wt}if(dt>>>=Et,it-=Et,tt.back+=Et,tt.length=St,0===bt){tt.mode=Le;break}if(32&bt){tt.back=-1,tt.mode=pe;break}if(64&bt){Qe.msg='invalid literal/length code',tt.mode=He;break}tt.extra=15&bt,tt.mode=Ae;case Ae:if(tt.extra){for(vt=tt.extra;it<vt;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}tt.length+=dt&(1<<tt.extra)-1,dt>>>=tt.extra,it-=tt.extra,tt.back+=tt.extra}tt.was=tt.length,tt.mode=Ue;case Ue:for(;;){if(mt=tt.distcode[dt&(1<<tt.distbits)-1],Et=mt>>>24,bt=255&mt>>>16,St=65535&mt,Et<=it)break;if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(0==(240&bt)){for(wt=Et,Rt=bt,Tt=St;;){if(mt=tt.distcode[Tt+((dt&(1<<wt+Rt)-1)>>wt)],Et=mt>>>24,bt=255&mt>>>16,St=65535&mt,wt+Et<=it)break;if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}dt>>>=wt,it-=wt,tt.back+=wt}if(dt>>>=Et,it-=Et,tt.back+=Et,64&bt){Qe.msg='invalid distance code',tt.mode=He;break}tt.offset=St,tt.extra=15&bt,tt.mode=Ze;case Ze:if(tt.extra){for(vt=tt.extra;it<vt;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}tt.offset+=dt&(1<<tt.extra)-1,dt>>>=tt.extra,it-=tt.extra,tt.back+=tt.extra}if(tt.offset>tt.dmax){Qe.msg='invalid distance too far back',tt.mode=He;break}tt.mode=Fe;case Fe:if(0===st)break inf_leave;if(ut=ht-st,tt.offset>ut){if(ut=tt.offset-ut,ut>tt.whave&&tt.sane){Qe.msg='invalid distance too far back',tt.mode=He;break}ut>tt.wnext?(ut-=tt.wnext,gt=tt.wsize-ut):gt=tt.wnext-ut,ut>tt.length&&(ut=tt.length),ct=tt.window}else ct=_t,gt=ft-tt.offset,ut=tt.length;ut>st&&(ut=st),st-=ut,tt.length-=ut;do _t[ft++]=ct[gt++];while(--ut);0===tt.length&&(tt.mode=ke);break;case Le:if(0===st)break inf_leave;_t[ft++]=tt.length,st--,tt.mode=ke;break;case Be:if(tt.wrap){for(;32>it;){if(0===ot)break inf_leave;ot--,dt|=nt[at++]<<it,it+=8}if(ht-=st,Qe.total_out+=ht,tt.total+=ht,ht&&(Qe.adler=tt.check=tt.flags?ee(tt.check,_t,ht,ft-ht):Q(tt.check,_t,ht,ft-ht)),ht=st,(tt.flags?dt:_(dt))!==tt.check){Qe.msg='incorrect data check',tt.mode=He;break}dt=0,it=0}tt.mode=Me;case Me:if(tt.wrap&&tt.flags){for(;32>it;){if(0===ot)break inf_leave;ot--,dt+=nt[at++]<<it,it+=8}if(dt!==(4294967295&tt.total)){Qe.msg='incorrect length check',tt.mode=He;break}dt=0,it=0}tt.mode=Pe;case Pe:Ct=1;break inf_leave;case He:Ct=de;break inf_leave;case ze:return ie;case 32:default:return re;}return(Qe.next_out=ft,Qe.avail_out=st,Qe.next_in=at,Qe.avail_in=ot,tt.hold=dt,tt.bits=it,(tt.wsize||ht!==Qe.avail_out&&tt.mode<He&&(tt.mode<Be||et!==fe))&&E(Qe,Qe.output,Qe.next_out,ht-Qe.avail_out))?(tt.mode=ze,ie):(lt-=Qe.avail_in,ht-=Qe.avail_out,Qe.total_in+=lt,Qe.total_out+=ht,tt.total+=ht,tt.wrap&&ht&&(Qe.adler=tt.check=tt.flags?ee(tt.check,_t,ht,Qe.next_out-ht):Q(tt.check,_t,ht,Qe.next_out-ht)),Qe.data_type=tt.bits+(tt.last?64:0)+(tt.mode===pe?128:0)+(tt.mode===Ne||tt.mode===ye?256:0),(0===lt&&0===ht||et===fe)&&Ct===se&&(Ct=-5),Ct)},inflateEnd:function(Qe){if(!Qe||!Qe.state)return re;var et=Qe.state;return et.window&&(et.window=null),Qe.state=null,se},inflateGetHeader:function(Qe,et){var tt;return Qe&&Qe.state?(tt=Qe.state,0==(2&tt.wrap))?re:(tt.head=et,et.done=!1,se):re},inflateSetDictionary:function(Qe,et){var nt,_t,at,tt=et.length;return Qe&&Qe.state?(nt=Qe.state,0!==nt.wrap&&nt.mode!==Te)?re:nt.mode===Te&&(_t=1,_t=Q(_t,et,tt,0),_t!==nt.check)?de:(at=E(Qe,et,tt,tt),at)?(nt.mode=ze,ie):(nt.havedict=1,se):re},inflateInfo:'pako inflate (from Nodeca project)'};class Ye{constructor($e){this._buffer=new N(8),this._behind=null,this._header=null,this._swfInfo=null,this._curtagc=null,this._oldtagc=null,this._handler=$e,this._isEnded=!1,this._isError=!1,this._isZLIBCompressed=!1,this._isLZMACompressed=!1,this._zStream=null}get isError(){return this._isError}get isEnded(){return this._isEnded}write(...$e){if(this._isError)return this._isError=!0,void(this._handler&&this._handler.onError(Ye.PARSER_HAS_ERRORED,'Parser has errored'));if(this._isEnded)return this._isError=!0,void(this._handler&&this._handler.onError(Ye.END_OF_FILE,'Encounter the end of file'));var Qe=[],et=0;for(var tt=0;tt<$e.length;++tt){var nt=$e[tt];if(nt instanceof ArrayBuffer)nt=new Uint8Array(nt);else if(nt instanceof Uint8Array||nt instanceof Uint8ClampedArray||nt instanceof Uint16Array||nt instanceof Uint32Array||nt instanceof Int8Array||nt instanceof Int16Array||nt instanceof Int32Array||nt instanceof Float32Array||nt instanceof Float64Array||nt instanceof DataView)nt=new Uint8Array(nt.buffer,nt.byteOffset,nt.byteLength);else throw new TypeError('Require buffer or typed array');0<=nt.length&&(et+=nt.length,Qe.push(nt))}if(!(0>=et))for(var tt=0;tt<Qe.length;++tt){var nt=Qe[tt];if(!this._header)if(nt.length<this._buffer.remain){this._buffer.setBytes(nt);continue}else{var _t=this._buffer.remain;if(this._buffer.setBytes(nt.subarray(0,_t)),this._buffer.offset=0,this._header=this._buffer.getHeader(new O),!this._header.isSignatureVaild)return this._isError=!0,void(this._handler&&this._handler.onError(Ye.INVAILD_HEADER,'Not a swf header'));var at=this._buffer.content;if(this._buffer=new N(this._behind=new Uint8Array(this._header.length)),this._buffer.length=0,this._buffer.setBytes(at),this._header.compression===O.LZMA_COMPRESSED)return this._isLZMACompressed=!0,this._isError=!0,void(this._handler&&this._handler.onError(Ye.UNSUPPORTED_COMPRESSION,'LZMA compression does not supprted yet'));if(this._header.compression===O.ZLIB_COMPRESSED&&(this._isZLIBCompressed=!0,this._zStream=new A,Ke.inflateInit(this._zStream),this._zStream.output=this._behind,this._zStream.next_out=this._buffer.length,this._zStream.avail_out=this._behind.length-this._buffer.length),this._handler&&this._handler.onHeader(this._header),nt.length==_t)continue;nt=nt.subarray(_t)}if(this._isZLIBCompressed){this._zStream.input=nt,this._zStream.next_in=0,this._zStream.avail_in=nt.length;var ft=Ke.inflate(this._zStream,Z.Z_NO_FLUSH);if(ft!==Z.Z_OK&&ft!==Z.Z_STREAM_END)return this._isError=!0,void(this._handler&&this._handler.onError(Ye.UNCOMPRESS_FAILURE,U[ft]));if(this._buffer.length=this._zStream.next_out,ft===Z.Z_STREAM_END){if(this._buffer.length!==this._header.length)return this._isError=!0,void(this._handler&&this._handler.onError(Ye.UNCOMPRESS_SIZE_ERROR,'Uncompressed size does not match header length'));this._isEnded=!0}}else{if(this._isLZMACompressed)return this._isError=!0,void(this._handler&&this._handler.onError(Ye.UNSUPPORTED_COMPRESSION,'LZMA compression does not supprted yet'));this._buffer.write(nt)}if(!this._swfInfo){if(this._swfInfo=this._buffer.trySWFInfo(this._swfInfo),!this._swfInfo)continue;this._handler&&this._handler.onSwfInfo(this._swfInfo)}this.drawTags()}}drawTags(){for(;this._curtagc=this._oldtagc||this._buffer.tryTagCode(this._curtagc);){if(this._buffer.remain<this._curtagc.length){this._oldtagc=this._curtagc;break}else this._oldtagc=null;this._buffer.offset+=this._curtagc.length,this._handler&&this._handler.onSwfTag(this._curtagc)}this._isEnded&&0!=this._buffer.remain&&(this._isError=!0,this._handler&&this._handler.onError(Ye.TAG_NOT_COMPLETE,'Tag does not complete'))}setHandler($e){this._handler=$e}}Ye.PARSER_HAS_ERRORED=0,Ye.END_OF_FILE=1,Ye.INVAILD_HEADER=2,Ye.UNSUPPORTED_COMPRESSION=3,Ye.UNCOMPRESS_FAILURE=5,Ye.UNCOMPRESS_SIZE_ERROR=6,Ye.TAG_NOT_COMPLETE=7;var qe=new Ye,je=0;if(qe.setHandler({onError:function($e,Qe){console.log('[ERROR]:',`(code=${$e})`,Qe)},onHeader:function($e){console.log('[HEADER]:',$e.toString())},onSwfInfo:function($e){console.log('[SWFINF]:',$e.toString())},onSwfTag:function(){++je}}),'undefined'!=typeof window){var Ve=new XMLHttpRequest;Ve.addEventListener('load',function(){S(Ve.response)}),Ve.open('GET','../assets/angel.swf',!0),Ve.responseType='arraybuffer',Ve.send(null)}else{var Je=require('fs');S(Je.readFileSync('./assets/angel.swf'))}});

